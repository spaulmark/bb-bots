(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,n){e.exports=n(59)},43:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(18),o=n.n(i),c=n(1),s=n(4),u=n(8),l=n(7),m=n(9),h=n(13),d=(n(43),n(14)),f=n.n(d),v=n(17),p=n(6),g=n(5),b=n(3),E=n(10),y=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).isEvicted=!1,n.isJury=!1,n.tribe=void 0,n.id=0,n.nominations=0,n.hohWins=0,n.povWins=0,n.compatibility=[0,0,0],n.popularity=0,n.deltaPopularity=0,n.previousPopularity=0,n.relationships={},n.targets=[n.id,n.id],n.powerRanking=0,n.superiors={},n.friends=0,n.enemies=0,n.targetingMe=0,Object.assign(Object(h.a)(Object(h.a)(n)),e),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"relationshipWith",value:function(e){return this.relationships[e.id]}}]),t}(function e(t){Object(c.a)(this,e),this.name="",this.imageURL="",this.castingScreenId=0,t&&Object.assign(this,t)}),w=n(11),k=n.n(w);function j(e){return e?Math.round(100*e):0}function O(e,t){var n=new Set,a=!0,r=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var s=o.value;e.has(s)&&n.add(s)}}catch(u){r=!0,i=u}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return n}function S(e,t){var n=new Set(e),a=!0,r=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var s=o.value;n.delete(s)}}catch(u){r=!0,i=u}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return n}function x(e){return!N(e)}function N(e){return null===e||void 0===e}function C(e){var t=0;return e.forEach(function(e){return t+=Math.pow(e,2)}),t}function M(e,t){if(e.length!==t.length)throw new Error("Tried to get the angle between two vectors of non-equal length: ".concat(e.length," !== ").concat(t.length));return Math.acos(function(e,t){if(e.length!==t.length)throw new Error("Tried to get the dot product between two vectors of non-equal length: ".concat(e.length," !== ").concat(t.length));var n=0;return e.forEach(function(a,r){n+=e[r]*t[r]}),n}(e,t)/C(e)*C(t))}function T(e,t){for(var n={},a=0;a<e;a++)a!==t&&(n[a]=0);return n}var I=n(24),P=n(60),H=n(35);function L(e){var t=Math.round(e).toString(16);return 1==t.length?"0"+t:t}var W,A,V=function(){function e(t,n,a){Object(c.a)(this,e),this.r=void 0,this.g=void 0,this.b=void 0,this.r=t,this.g=n,this.b=a}return Object(s.a)(e,[{key:"toHex",value:function(){return"#"+L(this.r)+L(this.g)+L(this.b)}},{key:"toRgba",value:function(){return"rgba(".concat(this.r,", ").concat(this.g,", ").concat(this.b,", 1)")}}]),e}();function D(){var e=Math.floor(255*Math.random()),t=Math.floor(255*Math.random()),n=Math.floor(255*Math.random());return new V(e,t,n)}function R(e,t,n){return new V(e.r+n*(t.r-e.r),e.g+n*(t.g-e.g),e.b+n*(t.b-e.b)).toHex()}function B(e){var t="#"===e.charAt(0)?e.substring(1,7):e,n=[parseInt(t.substring(0,2),16)/255,parseInt(t.substring(2,4),16)/255,parseInt(t.substring(4,6),16)/255].map(function(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return.2126*n[0]+.7152*n[1]+.0722*n[2]>.179?"#000000":"#ffffff"}!function(e){e.Friend="FRIEND",e.Queen="QUEEN",e.Pawn="PAWN",e.Enemy="ENEMY"}(W||(W={})),function(e){e.Friend="FRIEND",e.PawnQueen="PAWN/QUEEN",e.Enemy="ENEMY"}(A||(A={}));var U={FRIEND:"\u2665",ENEMY:"\ud83d\udc94",PAWN:"PAWN",QUEEN:"QUEEN"};function _(e,t,n){var a=n>e,r=n>t;return a&&r?W.Friend:a&&!r?W.Pawn:!a&&r?W.Queen:W.Enemy}function F(e,t,n){var a=n>e,r=n>t;return a&&r?A.Friend:a||r?A.PawnQueen:A.Enemy}function z(e){return 0===e.friends&&0===e.enemies&&0===e.popularity&&0===e.targetingMe||void 0===e.friends&&void 0===e.enemies}function G(e,t,n,a,i){var o=e.popularity;if(o&&(o>1||o<-1)&&(o=t.popularity),o&&!t.isEvicted){var c="".concat(j(o),"%"),s=function(e,t){if(j(e.popularity)!==j(t))return 0;return e.deltaPopularity?j(e.deltaPopularity):0}(t,o);if(n&&0!==s)c+="".concat(s>0?" | \u2191":" | \u2193"," ").concat(s,"%");a.push(r.a.createElement("div",{key:i++},c))}return i}function Q(e,t,n){return J(e)?t.push(r.a.createElement("div",{key:n++},"".concat(J(e)))):t.push(r.a.createElement("br",{key:n++,style:{lineHeight:1}})),n}function J(e){return"".concat(e.hohWins?"\u2654 ".concat(e.hohWins):"").concat(e.povWins&&e.hohWins?"|\ud83d\udec7 ".concat(e.povWins):e.povWins?"\ud83d\udec7 ".concat(e.povWins):"").concat((e.hohWins||e.povWins)&&e.nominations?"|":"").concat(e.nominations?"\u2718 ".concat(e.nominations):"")}var q=new V(252,137,137),Y=new V(137,252,137),K={minColor:q,maxColor:Y,backgroundColor:function(e){var t=function(e){if(!e)return 0;var t=e*e;return e>=0?2*e-t:t+2*e}(e.popularity);return R(q,Y,(t+1)/2)},generateSubtitle:function(e,t){var n=0,a=[],i=function(e,t,n){if(z(e))return{subtitle:t=t.concat(r.a.createElement("br",{key:n++})),key:n};if(e.isEvicted)t.push(r.a.createElement("br",{key:n++,style:{lineHeight:1}}));else{var a=Nr();if(a&&a.id!==e.id){var i=function(e,t){var n=[];return n.push(U[_(e.popularity||0,t.popularity,e.relationships[t.id])]),n}(e,a);t=t.concat(i.map(function(e){return r.a.createElement("div",{key:n++},e)}))}else{var o=function(e){var t=[],n=x(e.friends)&&x(e.enemies)?{friends:e.friends,enemies:e.enemies}:{friends:0,enemies:0};return t.push("".concat(n.friends," ").concat(U[W.Friend],"| ").concat(n.enemies," ").concat(U[W.Enemy]).concat(e.targetingMe?"| \ud83c\udfaf ".concat(e.targetingMe):"")),t}(e);t=t.concat(o.map(function(e){return r.a.createElement("div",{key:n++},e)}))}}return{subtitle:t,key:n}}(e,a,n=Q(e,a,n=G(t,e,arguments.length>2&&void 0!==arguments[2]&&arguments[2],a,n)));return a=i.subtitle,n=i.key,a}},X=new V(255,204,94),Z=new V(192,181,255),$={minColor:Z,maxColor:X,backgroundColor:function(e){var t=e.powerRanking;return void 0===t?"":R(Z,X,t)},generateSubtitle:function(e,t,n){var a=0,i=[];if(a=Q(e,i,a=G(t,e,!!n,i,a)),e.isEvicted||void 0===t.powerRanking)i.push(r.a.createElement("br",{key:a++,style:{lineHeight:1}}));else{var o=Nr();o&&o.id!==e.id?i.push(r.a.createElement("div",{key:a++},"WIN ".concat(j(t.powerRanking),"%"))):o&&o.id===e.id?i.push(r.a.createElement("div",{key:a++},"I WOULD")):i.push(r.a.createElement("div",{key:a++},"WIN ".concat(j(t.powerRanking),"%").concat(e.targetingMe?" | \ud83c\udfaf ".concat(e.targetingMe):"")))}return i}};function ee(e){!e||Nr()&&Nr().id===e.id?xr.next(null):!e.superiors||Pr.value===$&&0===Object.keys(e.superiors).length?xr.next(null):xr.next(e)}function te(e){if(null!==e){var t=Cr.value;t.has(e)?t.delete(e):t.add(e),Cr.next(t)}else Cr.next(new Set)}var ne=new V(51,255,249),ae=function(){function e(t){var n=this;Object(c.a)(this,e),this.subs=[],this.view=void 0,this.refreshData=function(e){e?e.id!==n.view.props.id?n.view.setState({popularity:e.relationships[n.view.props.id],powerRanking:n.comparePowerRankings(e)}):n.view.setState({popularity:2,powerRanking:2}):n.view.setState(n.defaultState)},this.view=t}return Object(s.a)(e,[{key:"backgroundColor",value:function(e){if(z(e))return Object(w.shuffle)(["#ca9389","#cab389","#c0ca89","#cabb89","#c0ca89","#cabb89","#b9ca89","#98ca89"])[0];var t=Nr();return null!==t&&t.id===e.id?ne.toHex():e.isEvicted?void 0:this.view.state.displayMode.backgroundColor(this.view.state)}},{key:"subscribe",value:function(){var e=this,t=[];t.push(xr.subscribe({next:this.refreshData})),t.push(Pr.subscribe({next:function(t){return e.view.setState({displayMode:t})}})),this.subs=t}},{key:"unsubscribe",value:function(){this.subs.forEach(function(e){return e.unsubscribe()})}},{key:"comparePowerRankings",value:function(e){if(!e.superiors)return 0;var t=void 0===this.view.props.id?-1:this.view.props.id;return e.superiors[t]}},{key:"defaultState",get:function(){return{popularity:this.view.props.popularity,displayMode:Pr.value,powerRanking:this.view.props.powerRanking}}}]),e}(),re=n(2);function ie(){var e=Object(b.a)(["\n    overflow: hidden;\n    white-space: nowrap;\n    width: 100%;\n    border-top: 1px solid black;\n    border-bottom: 1px solid black;\n    overflow: clip;\n    display: block;\n    min-height: 21px;\n    font-weight: normal;\n"]);return ie=function(){return e},e}function oe(){var e=Object(b.a)(["\n    filter: sepia(100%);\n"]);return oe=function(){return e},e}function ce(){var e=Object(b.a)(["\n    filter: grayscale(100%);\n"]);return ce=function(){return e},e}function se(){var e=Object(b.a)(["\n    min-width: 100px;\n    width: 100%;\n    width: -moz-available;\n    width: -webkit-fill-available;\n    width: stretch;\n    -webkit-transition-property: none;\n    -moz-transition-property: none;\n    -o-transition-property: none;\n    transition-property: none;\n"]);return se=function(){return e},e}function ue(){var e=Object(b.a)(["\n    font-weight: 100;\n    color: #c3ae88;\n    background-color: #5d5340;\n    filter: brightness(0.6);\n"]);return ue=function(){return e},e}function le(){var e=Object(b.a)(["\n    font-weight: 100;\n    color: grey;\n    background-color: #111111;\n"]);return le=function(){return e},e}function me(){var e=Object(b.a)(["\n    margin: 5px;\n    border: 1px solid ",";\n    color: black;\n    border-radius: 5px;\n    text-align: center;\n    font-weight: 600;\n    width: 7rem;\n    word-wrap: break-word;\n    -webkit-transition-property: none;\n    -moz-transition-property: none;\n    -o-transition-property: none;\n    transition-property: none;\n"]);return me=function(){return e},e}function he(){var e=Object(b.a)(["\n    font-weight: 100;\n    font-size: small;\n"]);return he=function(){return e},e}var de=re.c.small(he()),fe=re.c.div(me(),function(e){return e.theme.portraitBorder}),ve=Object(re.c)(fe)(le()),pe=Object(re.c)(fe)(ue()),ge=re.c.img(se()),be=Object(re.c)(ge)(ce()),Ee=Object(re.c)(ge)(oe()),ye=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).controller=void 0,n.controller=new ae(Object(h.a)(Object(h.a)(n))),n.state=n.controller.defaultState,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){N(this.props.id)||this.controller.subscribe()}},{key:"componentWillUnmount",value:function(){this.controller.unsubscribe()}},{key:"onClick",value:function(){this.props.targets&&0===this.props.targets[0]&&0==this.props.targets[1]||N(this.props.id)||!this.props.relationships||ee({id:this.props.id,relationships:this.props.relationships,isEvicted:!!this.props.isEvicted,popularity:this.props.popularity||0,superiors:this.props.superiors})}},{key:"render",value:function(){var e,t=this,n=this.props,a=function(e){var t=e.isEvicted?be:ge;return t=e.isJury?Ee:t}(n);e=this.state.displayMode.generateSubtitle(this.props,this.state,!!n.detailed);var i=n.tribe?{backgroundColor:n.tribe.color,color:B(n.tribe.color)}:{},o=fe;n.isJury?(o=pe,i={backgroundColor:"#5d5340",color:"#c3ae88",borderTop:"1px solid #5d5340",borderBottom:"1px solid #5d5340"}):n.isEvicted&&(o=ve,i={backgroundColor:"#111111",color:"grey"});var c=n.tribe?r.a.createElement(we,{style:i},r.a.createElement("small",null,n.tribe.name)):void 0,s={height:100,width:"-moz-available"};return n.tribe&&(s.display="block"),r.a.createElement(o,{onClick:function(){return t.onClick()},style:{backgroundColor:this.controller.backgroundColor(n)}},r.a.createElement(a,{src:n.imageURL,style:s}),c,n.name,r.a.createElement("br",null),r.a.createElement(de,null,e))}}]),t}(r.a.Component),we=re.c.div(ie());function ke(e,t){return r.a.createElement(ye,Object.assign({},e,{key:t,detailed:!1}))}var je=n(31),Oe=n.n(je);function Se(){var e=Object(b.a)(["\n    color: #300808;\n    width: 50%;\n\n    :active {\n        color: #ff7133;\n        background-color: #ffd8c7;\n    }\n    :hover {\n        color: orange;\n        background-color: #fff6e1;\n    }\n"]);return Se=function(){return e},e}function xe(){var e=Object(b.a)(["\n    color: #300808;\n    width: 50%;\n\n    :active {\n        color: #ff7133;\n        background-color: #ffd8c7;\n    }\n    :hover {\n        color: red;\n        background-color: #ffe1ea;\n    }\n"]);return xe=function(){return e},e}function Ne(){var e=Object(b.a)(["\n    ","\n"]);return Ne=function(){return e},e}function Ce(){var e=Object(b.a)(["\n    padding: 5px;\n    margin: 5px;\n    border: 1px solid #9d9d9d;\n    background-color: #9d9d9d;\n    color: black;\n    border-radius: 5px;\n    font-weight: 600;\n    width: 7rem;\n    word-wrap: break-word;\n"]);return Ce=function(){return e},e}var Me=re.c.div(Ce()),Te="   -webkit-touch-callout: none;\n-webkit-user-select: none;\n-khtml-user-select: none;\n-moz-user-select: none;\n-ms-user-select: none;\nuser-select: none;",Ie=re.c.div(Ne(),Te),Pe=Object(re.c)(Ie)(xe()),He=Object(re.c)(Ie)(Se()),Le=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={name:e.name},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({name:e.name})}},{key:"render",value:function(){var e=this,t=this.props.selected?{backgroundColor:ne.toHex()}:{};return r.a.createElement(Me,{onClick:function(){return e.props.onClick()},style:t},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("div",{style:{maxHeight:20,display:"flex"}},r.a.createElement(Pe,{onDoubleClick:function(){return e.props.onDelete()},onClick:function(e){return e.stopPropagation()}},"\u2718"),r.a.createElement(He,{onClick:function(t){t.stopPropagation(),e.props.onRename()}},"\u270e")),r.a.createElement("img",{src:this.props.imageUrl,style:{width:100,height:100}}),r.a.createElement("br",null),r.a.createElement("p",null,this.state.name)))}}]),t}(r.a.Component);function We(){var e=Object(b.a)(["\n    max-width: 800px;\n    ","\n"]);return We=function(){return e},e}function Ae(){var e=Object(b.a)(["\n    max-width: 200px;\n    ","\n"]);return Ae=function(){return e},e}var Ve="\n".concat(Te,"\npadding: 3px 8px;\ncolor: #fff;\ntext-align: center;\nbackground-color: #000;\nborder-radius: 4px;"),De=re.c.p(Ae(),Ve),Re=re.c.p(We(),Ve),Be=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={visible:!1},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.wide?Re:De;return r.a.createElement(Oe.a,{position:["top","bottom"],isOpen:this.state.visible,content:r.a.createElement(t,null,this.props.text)},r.a.createElement("div",{onMouseEnter:function(){return e.setState({visible:!0})},onMouseLeave:function(){return e.setState({visible:!1})}},this.props.children))}}]),t}(r.a.Component),Ue=-1;function _e(e){return r.a.createElement("div",{key:Ue++,className:"columns is-gapless is-mobile is-multiline ".concat(e.centered?"is-centered":"")},e.children)}function Fe(e){var t=r.a.createElement(_e,{centered:e.centered},ke(e.houseguest));return e.houseguest.tooltip?r.a.createElement(_e,{centered:e.centered},r.a.createElement(Be,{text:e.houseguest.tooltip},ke(e.houseguest))):t}function ze(e){var t=[];return e.houseguests&&0!==e.houseguests.length?(e.houseguests.forEach(function(n){var a;a="\u2b05\ufe0f"===n||"\u27a1\ufe0f"===n?r.a.createElement("div",{key:"plus-".concat(Ue++),style:{display:"flex",justifyContent:"center",alignItems:"center"},className:"column is-narrow"},r.a.createElement("p",null,n)):e.detailed?function(e,t){return r.a.createElement(ye,Object.assign({},e,{key:t,detailed:!0}))}(n,Ue++):ke(n,Ue++),"\u2b05\ufe0f"!==n&&"\u27a1\ufe0f"!==n&&n.tooltip&&(a=r.a.createElement(Be,{key:Ue++,text:n.tooltip},a)),t.push(a)}),r.a.createElement("div",{className:"columns is-gapless is-mobile is-multiline ".concat(e.centered&&"is-centered")},t)):r.a.createElement("div",null)}function Ge(e){return e.houseguests&&0!==e.houseguests.length?r.a.createElement("div",{style:{margin:"auto",maxWidth:e.houseguests.length<26?800:-1}},r.a.createElement(ze,{houseguests:e.houseguests,centered:!0,detailed:!0})):r.a.createElement("div",null)}function Qe(){var e=Object(b.a)(["\n    color: ",";\n"]);return Qe=function(){return e},e}function Je(){var e=Object(b.a)(["\n    color: ",";\n"]);return Je=function(){return e},e}var qe=re.c.div(Je(),function(e){return e.theme.text}),Ye=re.c.input(Qe(),function(e){return e.theme.text}),Ke=n(32);function Xe(){var e=Object(b.a)(["\n    width: 3em;\n"]);return Xe=function(){return e},e}var Ze=re.c.input(Xe());function $e(e){var t=e.style||{};return r.a.createElement(Ze,{type:"text",className:"input".concat(e.className?" ".concat(e.className):""),style:t,value:e.value,placeholder:e.placeholder||"",onChange:function(t){var n=t.target.value;/^\d*$/g.test(n)&&e.onChange(n)}})}function et(e){var t=Object(a.useState)("16"),n=Object(g.a)(t,2),i=n[0],o=n[1];return r.a.createElement("div",{className:"field has-addons",style:{display:"flex"}},r.a.createElement("div",{className:"control"},r.a.createElement(Be,{text:"Selected cast members will always be chosen."},r.a.createElement("button",{disabled:""===i,className:"button is-primary",onClick:function(){return e.random(parseInt(i))}},"Random"))),r.a.createElement("div",{className:"control"},r.a.createElement($e,{value:i,onChange:o})))}function tt(){var e=Object(b.a)(["\n    text-align: center;\n    color: ",";\n"]);return tt=function(){return e},e}function nt(){var e=Object(b.a)(["\n    text-align: center;\n    color: ",";\n"]);return nt=function(){return e},e}var at=re.c.div(nt(),function(e){return e.theme.text}),rt=re.c.p(tt(),function(e){return e.theme.text});function it(e){return e.noMargin?r.a.createElement(at,null,e.children):r.a.createElement(rt,{className:e.className||"",style:e.style||{}},e.children)}function ot(e){return r.a.createElement(it,{className:e.className||"",style:e.style||{},noMargin:e.noMargin},r.a.createElement("b",null,e.children," "))}function ct(e){return r.a.createElement(it,{className:e.className||"",style:e.style||{},noMargin:e.noMargin},r.a.createElement("i",null,e.children," "))}function st(){var e=Object(b.a)(["\n    color: ",";\n    cursor: pointer;\n    font-weight: bold;\n    margin-top: 10px;\n    margin-bottom: 10px;\n"]);return st=function(){return e},e}var ut=re.c.a(st(),function(e){return e.theme.link});function lt(e){if(!ei(e.gameState))return r.a.createElement(qe,null,r.a.createElement(it,null,"\u26a0\ufe0f There are too many players left in the game to display the alliances! Try again when there are 30 or less! \u26a0\ufe0f"));var t=e.gameState.cliques.map(function(t,n){if(N(t.affiliates))return r.a.createElement(ze,{centered:!0,detailed:!0,key:"".concat(t,", ").concat(n,", ").concat(e.gameState.phase),houseguests:t.core.map(function(t){return Dr(e.gameState,t)})});var a=[].concat(Object(E.a)(t.affiliates[0]),["\u27a1\ufe0f"],Object(E.a)(t.core),["\u2b05\ufe0f"],Object(E.a)(t.affiliates[1]));return r.a.createElement(ze,{centered:!0,detailed:!0,key:"".concat(t,", ").concat(n,", ").concat(e.gameState.phase),houseguests:a.map(function(t){return"\u2b05\ufe0f"===t?"\u2b05\ufe0f":"\u27a1\ufe0f"===t?"\u27a1\ufe0f":Dr(e.gameState,t)})})});return r.a.createElement("div",null,t,e.gameState.phase<3&&r.a.createElement(ut,{href:"https://github.com/spaulmark/bb-bots/blob/master/README.md#understanding-alliances-or-what-do-the-arrows-mean",target:"_blank",rel:"noopener noreferrer"},"What do the arrows mean?"))}var mt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).sub=null,n.state={selected:e.mode===Pr.value},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.sub=Pr.subscribe({next:function(t){t!==e.props.mode?e.setState({selected:!1}):e.setState({selected:!0})}})}},{key:"componentWillUnmount",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"render",value:function(){var e,t,n=this,a=(e=this.props).disabled?{}:{background:"linear-gradient(90deg, ".concat(e.mode.minColor.toRgba()," 0%, ").concat(e.mode.maxColor.toRgba()," 100%)"),cursor:"pointer"};return r.a.createElement("span",{className:"level-item tag is-medium is-light",style:a,onClick:function(){!n.props.disabled&&function(e){if(e===$){var t=Nr();!t||t.superiors&&0!==Object.keys(t.superiors).length||xr.next(null)}Pr.next(e)}(n.props.mode),!n.props.disabled&&n.setState({selected:!0})}},(t=this.props.text,this.state.selected?r.a.createElement("b",null,t):r.a.createElement("i",null,t)))}}]),t}(r.a.Component);var ht=function(e){function t(e){var n;return Object(c.a)(this,t),Fr((n=Object(u.a)(this,Object(l.a)(t).call(this,e))).props.gameState)||Pr.value!==$||Pr.next(K),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){Fr(this.props.gameState)||Pr.value!==$||Pr.next(K)}},{key:"render",value:function(){return r.a.createElement("div",{className:"level is-mobile",key:"viewsbar",style:{marginBottom:0}},r.a.createElement(mt,{mode:K,text:"Relationships"}),Fr(this.props.gameState)&&r.a.createElement(mt,{mode:$,text:"Endgame Winrate"}))}}]),t}(r.a.Component),dt=n(20);function ft(){var e=Object(b.a)(["\n    ","\n    background: #444346;\n    color: #fff;\n"]);return ft=function(){return e},e}function vt(){var e=Object(b.a)(["\n    ","\n    background: #ffe1ea;\n    color: red;\n"]);return vt=function(){return e},e}var pt="\npadding: 10px;\nborder-radius: 6px;\nbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\nmargin: 0 0 3px 0;\nborder: 1px solid #6c6c6c;\ndisplay: grid;\nflex-direction: column;\n",gt=re.c.div(vt(),pt),bt=re.c.div(ft(),pt),Et=[],yt=0;var wt=function(e){var t=e.item,n=e.provided,a=e.snapshot,i=t.isValid?bt:gt;return r.a.createElement(i,Object.assign({ref:n.innerRef,snapshot:a},n.draggableProps,n.dragHandleProps),r.a.createElement("span",null,"".concat(t.weekText).concat(t.episode!==ri?" | ".concat(St(t.episode)+t.episode.name):"")))},kt=new P.a(0),jt=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).id=0,n.subs=[],yt=e.castSize;for(var a=[],r=0,i=e.castSize;i>3;i--)r++,a.push({id:(n.id++).toString(),weekText:"Week ".concat(r,": F").concat(i),episode:ri,isValid:!0});return Et=a,n.state={items:a},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"maxCapacity",value:function(){return this.props.castSize-3}},{key:"updateTwistCapacity",value:function(e){kt.next(e)}},{key:"addRemoveTwist",value:function(e){if(this.updateTwistCapacity(e.add?Object(w.min)([kt.value-e.type.eliminates,this.maxCapacity()])||0:kt.value+e.type.eliminates),e.add){var t=Array.from(this.state.items);!function(e,t,n,a){for(var r=a||0;r<e.length&&t>0;)n(e[r])&&(t--,e.splice(r,1),r--),r++}(t,e.type.eliminates,function(e){return e.episode===ri},e.type.chainable?1:0);var n=t.findIndex(function(e,t,n){return t>0&&e.episode===ri}),a={id:(this.id++).toString(),weekText:"",episode:e.type,isValid:!0};e.type.chainable?t.splice(n,0,a):t.unshift(a),this.refreshItems(t)}else{var r=Array.from(this.state.items),i=function(e,t){for(var n=e.length-1;n>=0;){if(t(e[n]))return e.splice(n,1),n;n--}return-1}(r,function(t){var n=!!e.type.teamsLookupId&&e.type.teamsLookupId===t.episode.teamsLookupId;return t.episode===e.type||n});this.refreshItems(r,i)}}},{key:"componentDidMount",value:function(){var e=this;kt.next(this.maxCapacity()),this.subs.push(Ot.subscribe(function(t){return e.addRemoveTwist(t)}))}},{key:"componentWillUnmount",value:function(){this.subs.forEach(function(e){return e.unsubscribe()})}},{key:"refreshItems",value:function(e,t){var n=[],a=0,r=this.props.castSize,i=0,o=!0,c=!1,s=void 0;try{for(var u,l=e[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var m=u.value,h=i-1>0&&!!e[i-1].episode.pseudo,d=!!m.episode.chainable,f=!d||r!==this.props.castSize,v=m.episode.canPlayWith(r)&&f;!d&&!h&&a++,m.weekText="Week ".concat(a||1,": F").concat(r),m.isValid=v,r-=m.episode.eliminates,(v||m.episode!==ri)&&n.push(m),i++}}catch(g){c=!0,s=g}finally{try{o||null==l.return||l.return()}finally{if(c)throw s}}if(r>3){for(;r>3;){a++;var p={id:(this.id++).toString(),weekText:"Week ".concat(a||1,": F").concat(r),episode:ri,isValid:!0};void 0!==t?n.splice(t,0,p):n.unshift(p),r--}this.refreshItems(n)}Et=n,this.setState({items:n}),this.props.setTwistsValid(n.every(function(e){return e.isValid}))}},{key:"render",value:function(){var e=this,t=this.state.items;return r.a.createElement(dt.a,{onDragEnd:function(t){if(t.destination){var n=Array.from(e.state.items),a=n.splice(t.source.index,1),r=Object(g.a)(a,1)[0];n.splice(t.destination.index,0,r),e.refreshItems(n)}}},r.a.createElement(dt.c,{droppableId:"droppable"},function(e){return r.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef}),t.map(function(e,t){return r.a.createElement(dt.b,{key:e.id,draggableId:e.id,index:t},function(t,n){return r.a.createElement(wt,{provided:t,snapshot:n,item:e})})}),e.placeholder)}))}}]),t}(r.a.Component),Ot=new H.a;function St(e){return e.emoji?"".concat(e.emoji," "):""}var xt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).subs=void 0,n.state={twistCount:0,twistCapacity:kt.value},n.subs=[],n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.subs.push(kt.subscribe(function(t){return e.setState({twistCapacity:t})}))}},{key:"componentWillUnmount",value:function(){this.subs.forEach(function(e){return e.unsubscribe()})}},{key:"render",value:function(){var e=this,t=this.state.twistCount,n=this.state.twistCapacity<this.props.type.eliminates,a=this.state.twistCapacity<=this.props.type.eliminates,i=this.props.type.chainable?a:n;return r.a.createElement("div",{className:"column is-5-desktop is-5-widescreen is-5-fullhd is-12-tablet",style:{border:"1px solid #808080",borderRadius:"4px",backgroundColor:"#444346",margin:"10px"}},r.a.createElement(Be,{wide:!0,text:this.props.type.description||""},r.a.createElement("div",{className:"field has-addons has-addons-centered",style:{textAlign:"center"}},r.a.createElement("p",{className:"field-label is-normal control"},r.a.createElement(Ra,{className:"label"},St(this.props.type),this.props.type.name)),r.a.createElement("p",{className:"control"},r.a.createElement("button",{className:"button is-danger",disabled:0===t,onClick:function(){Ot.next({type:e.props.type,add:!1}),e.setState({twistCount:t-1})}},"-")),r.a.createElement("p",{className:"control"},r.a.createElement(Ze,{className:"input",readOnly:!0,value:"".concat(t)})),r.a.createElement("p",{className:"control"},r.a.createElement("button",{className:"button is-success",onClick:function(){Ot.next({type:e.props.type,add:!0}),e.setState({twistCount:t+1})},disabled:i},"+")))))}}]),t}(r.a.Component),Nt=function(){function e(t){var n;Object(c.a)(this,e),this.scenes=void 0,this.title=void 0,this.content=void 0,this.gameState=void 0,this.initialGameState=void 0,this.type=void 0,this.scenes=t.scenes,this.title=t.title||"Week ".concat(t.gameState.phase," ").concat(St(t.type)),this.content=t.content||(n=t.initialGamestate||t.gameState,r.a.createElement(qe,null,r.a.createElement(ci,null),r.a.createElement(ni,{gameState:n}),r.a.createElement("br",null),r.a.createElement(Mt,null))),this.gameState=t.gameState,this.initialGameState=t.initialGamestate||t.gameState,this.type=t.type}return Object(s.a)(e,[{key:"render",get:function(){var e=this.type.hasViewsbar?r.a.createElement(ht,{gameState:this.scenes[0].gameState}):null;return r.a.createElement("div",null,e,this.content)}}]),e}(),Ct=function e(t){Object(c.a)(this,e),this.title="",this.gameState=new Jr({players:[],jury:-1}),this.content=r.a.createElement("div",null,"Error while rendering ".concat(this.title)),this.render=void 0,Object.assign(this,t),this.render=r.a.createElement("div",null,r.a.createElement(ht,{gameState:this.gameState}),this.content)};function Mt(){return r.a.createElement("button",{className:"button is-primary",onClick:function(){return jr(1)}},"Continue")}function Tt(){var e=Object(b.a)(["\n    position: -webkit-sticky;\n    position: sticky;\n    top: 20px;\n    right: 20px;\n"]);return Tt=function(){return e},e}var It=re.c.img(Tt());function Pt(){return r.a.createElement(It,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAASElEQVRIiWNgGAUEACMa/z+R6ohWz0Sqi0gFLIRcQAAQDAGa+2DoWzAKRgH1wX8G3OULWfqHfkYbsNIUPR5IrQ/gYLQsGngAAEPgCRZjAdYSAAAAAElFTkSuQmCC",className:"button is-rounded",onClick:function(){Hr.next(!Hr.getValue())}})}function Ht(){var e=Object(b.a)(["\n    height: 0.4em;\n    background-color: #000000;\n"]);return Ht=function(){return e},e}function Lt(){var e=Object(b.a)(["\n    background-color: #78773f;\n"]);return Lt=function(){return e},e}function Wt(){var e=Object(b.a)(["\n    background-color: ",";\n"]);return Wt=function(){return e},e}function At(){var e=Object(b.a)(["\n    background-color: ",";\n"]);return At=function(){return e},e}function Vt(){var e=Object(b.a)(["\n    background-color: ",";\n"]);return Vt=function(){return e},e}function Dt(){var e=Object(b.a)(["\n    background-color: ",";\n"]);return Dt=function(){return e},e}function Rt(){var e=Object(b.a)(["\n    background-color: ",";\n"]);return Rt=function(){return e},e}function Bt(){var e=Object(b.a)(["\n    background-color: ",";\n"]);return Bt=function(){return e},e}function Ut(){var e=Object(b.a)(["\n    background-color: #7d7d7d;\n"]);return Ut=function(){return e},e}function _t(){var e=Object(b.a)(["\n    background-color: ",";\n"]);return _t=function(){return e},e}function Ft(){var e=Object(b.a)(["\n    background-color: ",";\n"]);return Ft=function(){return e},e}function zt(){var e=Object(b.a)(["\n    border: 1px solid ",";\n    border-collapse: collapse;\n"]);return zt=function(){return e},e}function Gt(){var e=Object(b.a)(["\n    border: 1px solid ",";\n"]);return Gt=function(){return e},e}function Qt(){var e=Object(b.a)(["\n    padding: 0.1em 0.4em;\n"]);return Qt=function(){return e},e}var Jt=re.c.td(Qt()),qt=Object(re.c)(Jt)(Gt(),function(e){return e.theme.tableCellBorder}),Yt=re.c.table(zt(),function(e){return e.theme.tableCellBorder}),Kt=Object(re.c)(qt)(Ft(),function(e){return e.theme.grayCell}),Xt=Object(re.c)(qt)(_t(),function(e){return e.theme.saveCell}),Zt=Object(re.c)(qt)(Ut()),$t=Object(re.c)(qt)(Bt(),function(e){return e.theme.lightGrayCell}),en=Object(re.c)(qt)(Rt(),function(e){return e.theme.evictedCell}),tn=Object(re.c)(qt)(Dt(),function(e){return e.theme.winnerCell}),nn=Object(re.c)(qt)(Vt(),function(e){return e.theme.runnerUpCell}),an=Object(re.c)(qt)(At(),function(e){return e.theme.nomineeCell}),rn=Object(re.c)(qt)(Wt(),function(e){return e.theme.hohCell}),on=Object(re.c)(qt)(Lt()),cn=re.c.tr(Ht()),sn=0;function un(e){var t=e.log,n=[];e.houseguests.forEach(function(e,t){n[e.id]=[r.a.createElement(Kt,{key:"hg-name---".concat(t)},r.a.createElement(ot,{noMargin:!0},e.name))]});var a=[],i=[],o=[],c=[],s=[],u=[],l=[];t.forEach(function(m,h){!function(e,t,n,a,i){if(!e)return void n.push(r.a.createElement(Kt,{key:"toprow--".concat(t)}));if(t===a)return void n.push(r.a.createElement(Kt,{key:"toprow--".concat(t),colSpan:2},r.a.createElement(ot,{noMargin:!0},"Finale")));n.push(r.a.createElement(Kt,{key:"toprow--".concat(t),colSpan:i},r.a.createElement(ot,{noMargin:!0},"Week ",t)))}(m?m[0]:void 0,h,i,t.length-1,m?m.length:-1);var d=0;(m||[void 0]).forEach(function(t){if(t&&t.pseudo||(function(e,t,n,a){if(!e)return void n.push(r.a.createElement(Kt,{key:"preveto--".concat(t,"-").concat(sn++)},r.a.createElement(ot,{noMargin:!0},"Nominations",r.a.createElement("br",null),r.a.createElement("small",null,"(pre-veto)"))));var i=0===e.nominationsPreVeto.length,o=void 0===e.vetoWinner,c=0===e.nominationsPostVeto.length,s=1+a;if(i&&o&&c)return void n.push(r.a.createElement($t,{key:"preveto--".concat(t,"-").concat(sn++),rowSpan:3,colSpan:s},r.a.createElement(ct,{noMargin:!0},"(none)")));if(i||o)return void n.push(r.a.createElement($t,{key:"preveto--".concat(t,"-").concat(sn++),rowSpan:2,colSpan:s},r.a.createElement(ct,{noMargin:!0},"(none)")));n.push(r.a.createElement($t,{key:"preveto--".concat(t,"-").concat(sn++),colSpan:s},r.a.createElement(it,{noMargin:!0},ln([].concat(Object(E.a)(e.nominationsPreVeto),Object(E.a)(e.strikethroughNominees.map(function(e){return r.a.createElement("del",null,e)}))),function(e){return r.a.createElement("br",{key:"preveto--br--".concat(t,"-").concat(e++)})},sn))))}(t,h,o,d),function(e,t,n,a){var i=1+a;if(!e)return void n.push(r.a.createElement(Kt,{key:"veto--".concat(t,"-").concat(sn++),colSpan:i},r.a.createElement(ot,{noMargin:!0},"Veto Winner")));if(void 0===e.vetoWinner)return;n.push(r.a.createElement($t,{key:"veto--".concat(t,"-").concat(sn++),colSpan:i},r.a.createElement(it,{noMargin:!0},e.vetoWinner)))}(t,h,c,d),function(e,t,n,a){var i=1+a;if(!e)return void n.push(r.a.createElement(Kt,{key:"postVeto--".concat(t,"-").concat(sn++),colSpan:i},r.a.createElement(ot,{noMargin:!0},"Nominations",r.a.createElement("br",null),r.a.createElement("small",null,"(post-veto)"))));if(0===e.nominationsPostVeto.length)return;n.push(r.a.createElement($t,{key:"preveto--".concat(t,"-").concat(sn++),colSpan:i},r.a.createElement(it,{noMargin:!0},ln(e.nominationsPostVeto,function(e){return r.a.createElement("br",{key:"preveto--br--".concat(t,"-").concat(e++)})},sn))))}(t,h,s,d),function(e,t,n,a,i,o){if(!e)return void n.push(r.a.createElement(Kt,{key:"evicted".concat(t,"--").concat(sn++),rowSpan:2},r.a.createElement(ot,{noMargin:!0},"Evicted")));if(e.pseudo)return;var c=void 0!==e.soleVoter?"evict":e.votingTo&&e.votingTo.toLowerCase()||"evict",s=1+o;if(e.customEvicted.length>0){var u=e.customEvicted.map(function(e){return[r.a.createElement("b",{key:"ev-name-".concat(sn++)},Dr(i,e).name),r.a.createElement("br",{key:"ev-name-".concat(sn++)})]}),l=r.a.createElement(Zt,{key:"evicted".concat(t,"--").concat(sn++),rowSpan:2,colSpan:s},r.a.createElement(it,{noMargin:!0},u,r.a.createElement("small",null,e.customEvictedText)));return void n.push(l)}var m=1===e.evicted.length?2:1;e.evicted.forEach(function(t,o){var u=void 0!==e.soleVoter?"".concat(e.soleVoter,"'s choice"):"".concat("Save"===e.votingTo?Object.values(e.votes).filter(function(e){return e.id===t}).length:e.votesInMajority," of ").concat(e.outOf," votes"),l=r.a.createElement(en,{key:"evicted".concat(o,"--").concat(sn++),rowSpan:m,colSpan:s},r.a.createElement(it,{noMargin:!0},r.a.createElement("b",null,Dr(i,t).name),r.a.createElement("br",null),r.a.createElement("small",null,u," ",r.a.createElement("br",null),"to ",c)));0===o?n.push(l):a.push(l)})}(t,h,u,l,e,d)),t){t.evicted.forEach(function(e){return a.push([e,h])}),void 0!==t.runnerUp&&a.push([t.runnerUp,h]),void 0!==t.winner&&a.push([t.winner,h]);for(var i=Object.entries(t.votes),m=0;m<i.length;m++){var f=i[m],v=Object(g.a)(f,2),p=v[0],b=v[1];n[p].push(b.render(e))}void 0!==t.winner&&void 0!==t.runnerUp&&(n[t.winner].push((new vn).render(e)),n[t.runnerUp].push((new pn).render(e)),u.push(r.a.createElement(nn,{key:"runnerUp"},r.a.createElement(ot,{noMargin:!0},Dr(e,t.runnerUp).name),r.a.createElement(it,{noMargin:!0},r.a.createElement("small",null,"Finalist")))),l.push(r.a.createElement(tn,{key:"winner"},r.a.createElement(ot,{noMargin:!0},Dr(e,t.winner).name),r.a.createElement(it,{noMargin:!0},r.a.createElement("small",null,"Winner"))))),t.pseudo?d++:d=0}})}),o.push(r.a.createElement($t,{key:"preveto--finale",rowSpan:3},r.a.createElement(ct,{noMargin:!0},"(none)")));var m=r.a.createElement("tr",null,l),h=r.a.createElement("tr",null,i),d=r.a.createElement("tr",null,o),f=r.a.createElement("tr",null,c),v=r.a.createElement("tr",null,s),p=[],b=r.a.createElement("tr",null,u),y=-1;a.reverse().forEach(function(t,a){var i=Object(g.a)(t,2),o=i[0],c=i[1];if(0===a&&(y=n[o].length),a>1){var s=2===a?"(Finale)":"(Week ".concat(c,")"),u=r.a.createElement(en,{colSpan:y-n[o].length,key:"evicted-week-".concat(s,"-").concat(a)},r.a.createElement(ct,{noMargin:!0},"Evicted"),r.a.createElement(ct,{noMargin:!0},r.a.createElement("small",null,s)));if(Dr(e,o).isJury){var l=n[o].slice(0,-1);l.push(u),l.push(n[o][n[o].length-1]),n[o]=l}else n[o].push(u)}p.push(r.a.createElement("tr",{key:"hgrow--".concat(o,"--").concat(sn++)},n[o]))});var w=r.a.createElement(cn,null,r.a.createElement("td",{colSpan:Number.MAX_SAFE_INTEGER}));return r.a.createElement("div",null,r.a.createElement(Pt,null),r.a.createElement(Yt,null,r.a.createElement("tbody",null,h,d,f,v,w,p,w,b,m)))}function ln(e,t,n){var a;return(a=[]).concat.apply(a,Object(E.a)(e.map(function(e){return[e,t(n++)]}))).slice(0,-1)}var mn=0;function hn(){return"".concat(mn++,"-- vote key")}var dn=function e(t,n){var a=this;Object(c.a)(this,e),this.id=void 0,this.text="",this.render=function(e){return r.a.createElement(Xt,{key:hn()},r.a.createElement(it,{noMargin:!0},a.text?a.text:Dr(e,a.id).name))},this.id=t,void 0!==n&&(this.text=n)},fn=function e(t){var n=this;Object(c.a)(this,e),this.id=void 0,this.render=function(e){return r.a.createElement(qt,{key:hn()},r.a.createElement(it,{noMargin:!0},Dr(e,n.id).name))},this.id=t},vn=function e(){Object(c.a)(this,e),this.id=1,this.render=function(e){return r.a.createElement(tn,{key:"winner---"},r.a.createElement(it,{noMargin:!0},"Winner"))}},pn=function e(){Object(c.a)(this,e),this.id=1,this.render=function(e){return r.a.createElement(nn,{key:"runnerUp---"},r.a.createElement(it,{noMargin:!0},"Finalist"))}},gn=function e(t){Object(c.a)(this,e),this.id=-1,this.evicted=void 0,this.render=function(e){return r.a.createElement(an,{key:hn()},r.a.createElement(ct,{noMargin:!0},"Nominated"))},this.evicted=t},bn=function e(t){var n=this;Object(c.a)(this,e),this.id=void 0,this.render=function(e){return r.a.createElement(on,{key:hn()},r.a.createElement(ct,{noMargin:!0},Dr(e,n.id).name))},this.id=t},En=function e(t){var n=this;Object(c.a)(this,e),this.id=-1,this.text="",this.render=function(e){return r.a.createElement(Zt,{key:hn()},r.a.createElement(ct,{noMargin:!0},n.text," "))},this.text=t},yn=function(){function e(t){var n=this;Object(c.a)(this,e),this.id=void 0,this.render=function(e){return r.a.createElement(rn,{key:hn()},-1==n.id?n.hohText:n.hohVote(e))},this.id=void 0===t?-1:t}return Object(s.a)(e,[{key:"hohVote",value:function(e){return r.a.createElement(ct,{noMargin:!0},Dr(e,this.id).name)}},{key:"hohText",get:function(){return r.a.createElement(ct,{noMargin:!0},"Head of",r.a.createElement("br",null),"Household")}}]),e}(),wn=function e(t){var n=this;Object(c.a)(this,e),this.id=-1,this.color=void 0,this.render=function(e){return r.a.createElement(qt,{key:hn(),style:{backgroundColor:n.color}})},this.color=t},kn=function e(t){var n=this;Object(c.a)(this,e),this.id=-1,this.color=void 0,this.render=function(e){return r.a.createElement(Jt,{key:hn(),style:{backgroundColor:n.color}},"\ud83c\udfc1")},this.color=t};function jn(e){return 0===e.length?"":1===e.length?e[0]:2===e.length?e[0]+" and "+e[1]:e.slice(0,e.length-1).join(", ")+", and "+e[e.length-1]}function On(e,t){var n=new qr(e),a=t.coHoH||!1,i=t.coHohIsFinal||!1,o=t.doubleEviction||!1,c=e.previousHOH?e.previousHOH:[],s=t.competitors||Rr(n.houseguests,c),u=Br(s),l=t.coHoH?Br(s,[u].concat(Object(E.a)(c))):u;t.skipHoHWin||((!a||i)&&(n.previousHOH=[u]),a&&i&&(n.previousHOH=[u,l]),(!a||i)&&(n.currentLog.votes[u.id]=new yn),a&&i&&(n.currentLog.votes[l.id]=new yn),u.hohWins+=1,a&&(l.hohWins+=1));var m=a?r.a.createElement(ze,{centered:!0,houseguests:[u,l]}):r.a.createElement(Fe,{centered:!0,houseguest:u}),h=t.bottomText?"".concat(jn([u.name])," ").concat(t.bottomText):"".concat(a?jn([u.name,l.name]):u.name," ").concat(a?"have":"has"," won Head of Household!"),d=new Ct({title:"HoH Competition",gameState:e,content:r.a.createElement("div",null,void 0!==t.customText?r.a.createElement(ot,null,t.customText):c.length>0&&(o?r.a.createElement(ot,null,"Houseguests, please return to the living room. Tonight will be a"," ",1===e.__logindex__?"double":"triple"," eviction."):r.a.createElement(it,null,"Houseguests, it's time to find a new Head of Household. As outgoing HoH, ".concat(jn(c.map(function(e){return e.name}))," will not compete."))),m,r.a.createElement(ot,null,h),r.a.createElement("br",null),!o&&r.a.createElement(Mt,null))});return[new Jr(n),d,a?[u,l]:[u]]}function Sn(){var e=Object(b.a)(["\n    margin-left: 3px;\n    margin-right: 3px;\n    margin-bottom: 3px;\n    background: ",";\n"]);return Sn=function(){return e},e}function xn(){var e=Object(b.a)(["\n    box-shadow: ",";\n    border-radius: 6px;\n    margin-left: 3px;\n    margin-top: 3px;\n    margin-right: 3px;\n    background: ",";\n"]);return xn=function(){return e},e}var Nn=re.c.div(xn(),function(e){return"light"===e.theme.name?"0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1)":""},function(e){return e.theme.overlay}),Cn=re.c.div(Sn(),function(e){return e.theme.bodyArea});function Mn(e){return r.a.createElement(Nn,{className:e.className||""},e.children)}function Tn(e){return r.a.createElement(Cn,{style:e.style,className:"box ".concat(e.className||"")},e.children)}function In(e,t){var n=e.length;if(n!=t.length)throw"Mismatched lengths";0!=n&&(0==(n&n-1)?function(e,t){var n=e.length;if(n!=t.length)throw"Mismatched lengths";if(1==n)return;for(var a=-1,r=0;r<32;r++)1<<r==n&&(a=r);if(-1==a)throw"Length is not a power of 2";for(var i=new Array(n/2),o=new Array(n/2),c=0;c<n/2;c++)i[c]=Math.cos(2*Math.PI*c/n),o[c]=Math.sin(2*Math.PI*c/n);for(var s=0;s<n;s++){var u=y(s,a);if(u>s){var l=e[s];e[s]=e[u],e[u]=l,l=t[s],t[s]=t[u],t[u]=l}}for(var m=2;m<=n;m*=2)for(var h=m/2,d=n/m,f=0;f<n;f+=m)for(var v=f,p=0;v<f+h;v++,p+=d){var g=v+h,b=e[g]*i[p]+t[g]*o[p],E=-e[g]*o[p]+t[g]*i[p];e[g]=e[v]-b,t[g]=t[v]-E,e[v]+=b,t[v]+=E}function y(e,t){for(var n=0,a=0;a<t;a++)n=n<<1|1&e,e>>>=1;return n}}(e,t):function(e,t){var n=e.length;if(n!=t.length)throw"Mismatched lengths";var a=1;for(;a<2*n+1;)a*=2;for(var r=new Array(n),i=new Array(n),o=0;o<n;o++){var c=o*o%(2*n);r[o]=Math.cos(Math.PI*c/n),i[o]=Math.sin(Math.PI*c/n)}for(var s=Hn(a),u=Hn(a),l=0;l<n;l++)s[l]=e[l]*r[l]+t[l]*i[l],u[l]=-e[l]*i[l]+t[l]*r[l];var m=Hn(a),h=Hn(a);m[0]=r[0],h[0]=i[0];for(var d=1;d<n;d++)m[d]=m[a-d]=r[d],h[d]=h[a-d]=i[d];var f=new Array(a),v=new Array(a);Pn(s,u,m,h,f,v);for(var p=0;p<n;p++)e[p]=f[p]*r[p]+v[p]*i[p],t[p]=-f[p]*i[p]+v[p]*r[p]}(e,t))}function Pn(e,t,n,a,r,i){var o=e.length;if(o!=t.length||o!=n.length||o!=a.length||o!=r.length||o!=i.length)throw"Mismatched lengths";e=e.slice(),t=t.slice(),n=n.slice(),a=a.slice(),In(e,t),In(n,a);for(var c=0;c<o;c++){var s=e[c]*n[c]-t[c]*a[c];t[c]=t[c]*n[c]+e[c]*a[c],e[c]=s}In(t,e);for(var u=0;u<o;u++)r[u]=e[u]/o,i[u]=t[u]/o}function Hn(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function Ln(e){var t=[],n=[],a=[];e.forEach(function(e){0===e&&n.push(0),1===e&&a.push(1),0!==e&&1!==e&&t.push(e)});var r=function(e){for(var t=e.length,n=t+1,a=2*Math.PI/n,r=[1],i=[0],o=function(t){var n=0;return e.forEach(function(e){var r=Math.pow(1-e+e*Math.cos(a*t),2),i=Math.pow(e*Math.sin(a*t),2);n+=.5*Math.log(r+i)}),n},c=function(t){var n=0;return e.forEach(function(e){var r=e*Math.sin(a*t),i=1-e+e*Math.cos(a*t);n+=Math.atan2(r,i)}),n},s=1;s<=Math.ceil(t/2);s++){var u=Math.exp(o(s)),l=c(s);r[s]=u*Math.cos(l),i[s]=u*Math.sin(l)}for(var m=Math.ceil(t/2)+1;m<=t;m++)r[m]=r[n-m],i[m]=-i[n-m];In(r,i);var h=r,d=[];return h.forEach(function(e,t){return h[t]=e/n}),d[0]=h[0],h.forEach(function(e,t){0!==t&&(d[t]=d[t-1]+h[t])}),d}(t);return r.forEach(function(e,t){return r[t]=1-e}),a.concat(r,n)}var Wn=function(e,t){return e.relationships[t.id]};function An(e,t){var n=e.hero,a=e.villain,r=[];return t.forEach(function(e){e.id!==n.id&&e.id!==a.id&&r.push(ta(e,n,a))}),Ln(r)[Math.ceil((t.length-2)/2)-1]}var Vn={type:W.Friend,id:-123456789,pHeroWins:-1,winrate:-1,relationship:2,villainPopularity:2,villianName:"This is an error"};function Dn(e,t){var n=e.superiors[t.id],a=_(e.popularity,t.popularity,e.relationships[t.id]);return{id:t.id,relationship:t.relationships[e.id],type:a,winrate:e.powerRanking,pHeroWins:n,villainPopularity:t.popularity,villianName:t.name}}var Rn,Bn,Un=function(){function e(t){Object(c.a)(this,e),this.firstTarget=Vn,this.secondTarget=Vn,this.hg=void 0,this.hg=t}return Object(s.a)(e,[{key:"getTargets",value:function(){return[this.firstTarget.id,this.secondTarget.id]}},{key:"refreshTargets",value:function(e){var t=ea(this.hg,Array.from(e.nonEvictedHouseguests).map(function(t){return Dr(e,t)}),e,2);this.firstTarget=Dn(this.hg,Dr(e,t[0].decision)),this.secondTarget=Dn(this.hg,Dr(e,t[1].decision))}}]),e}();function _n(e){return e.friends===e.enemies?Bn.MoR:e.friends>e.enemies?Bn.StatusQuo:Bn.Underdog}function Fn(e,t,n,a){if(2===e.relationship)return{decision:1,reason:"remove debug value"};if(2===t.relationship)return{decision:0,reason:"remove debug value"};var r=_n(n),i=function(e){return e.powerRanking>=.45?Rn.High:e.powerRanking<=1/3?Rn.Low:Rn.Medium}(n);return r===Bn.StatusQuo?function(e,t,n,a,r){if(a!==Rn.High&&Fr(r)){if(a===Rn.Medium){var i=F(e.popularity,t.villainPopularity,e.relationships[t.id]),o=F(e.popularity,n.villainPopularity,e.relationships[n.id]);return i===o?Jn(e,t,n,qn):qn(e,[t,n])}return Jn(e,t,n,qn)}return qn(e,[t,n])}(n,e,t,i,a):r===Bn.MoR?function(e,t,n,a,r){var i=function(e){return e===W.Enemy};return r!==Rn.High&&Fr(n)?r===Rn.Medium?Qn(a,e,t,function(e,t){var a=Object(g.a)(t,2),r=a[0],o=a[1];return Jn(e,r,o,Gn(n,i))}):Jn(a,e,t,function(e,t){var a=Object(g.a)(t,2),r=a[0],o=a[1];return Qn(e,r,o,Gn(n,i))}):Qn(a,e,t,Gn(n,i))}(e,t,a,n,i):function(e,t,n,a,r){var i=function(e){return e!==W.Friend};return r!==Rn.High&&Fr(n)?r===Rn.Medium?Qn(a,e,t,function(e,t){var a=Object(g.a)(t,2),r=a[0],o=a[1];return Jn(e,r,o,Gn(n,i))}):Jn(a,e,t,function(e,t){var a=Object(g.a)(t,2),r=a[0],o=a[1];return Qn(e,r,o,Gn(n,i))}):Qn(a,e,t,Gn(n,i))}(e,t,a,n,i)}function zn(e,t,n,a){return 1===Fn(e,t,n,a).decision}function Gn(e,t){return function(n,a){var r=function(e,t,n,a,r){var i=function(e,t,n,a,r){var i=Array.from(e.nonEvictedHouseguests).map(function(t){return Dr(e,t)}).filter(function(e){return r(_(t.popularity,e.popularity,t.relationshipWith(e)))&&t.id!==e.id}),o=0,c=Dr(e,n.id),s=0,u=Dr(e,a.id);return i.forEach(function(e){e.id!==c.id&&(o+=c.relationshipWith(e)),e.id!==u.id&&(s+=u.relationshipWith(e))}),{oldPop:o,newPop:s}}(a,e,t,n,r),o=i.oldPop,c=i.newPop;return o<c}(n,a[0],a[1],e,t)?1:0;return{decision:r,reason:"".concat([a[0],a[1]][r].villianName," is more popular among my enemies.")}}}function Qn(e,t,n,a){return t.type!==W.Enemy?function(){var e=n.type===W.Enemy||n.relationship<t.relationship?1:0;return{decision:e,reason:"I like ".concat([t,n][e].villianName," the least of these noms.")}}():n.type!==W.Enemy?{decision:0,reason:"".concat(t.villianName," is my enemy.")}:a(e,[t,n])}function Jn(e,t,n,a){var r=e.powerRanking<e.superiors[t.id],i=e.powerRanking<e.superiors[n.id];if(!r&&!i)return a(e,[t,n]);var o=e.superiors[t.id]<e.superiors[n.id]?0:1;return{decision:o,reason:"I can't beat ".concat([t,n][o].villianName," in the end.")}}function qn(e,t){var n=t[0],a=t[1],r=_(e.popularity,n.villainPopularity,e.relationships[n.id]),i=_(e.popularity,a.villainPopularity,e.relationships[a.id]);if(r===W.Enemy&&i===W.Enemy){var o=e.relationships[n.id]<e.relationships[a.id]?0:1;return{decision:o,reason:"I dislike ".concat(t[o].villianName," the most of these enemies.")}}if(r===W.Enemy&&i!==W.Enemy||i===W.Enemy&&r!==W.Enemy){var c=r===W.Enemy?0:1;return{decision:c,reason:"".concat(t[c].villianName," is my enemy.")}}if(r!==W.Friend&&i===W.Friend||i!==W.Friend&&r===W.Friend){var s=r!==W.Friend?0:1;return{decision:s,reason:"".concat(t[0===s?1:0].villianName," is my friend.")}}var u=function(e,t,n){var a=0,r=1/0;return t.forEach(function(t,i){var o=n(e,t);o<r&&(a=i,r=o)}),a}(e,t,Wn);return{decision:u,reason:"I like ".concat(t[0===u?1:0].villianName," the most of these noms.")}}function Yn(e,t,n){if(0===t.length)throw new Error("Tried to cast a vote to save with no nominees.");var a={decision:0,reason:""};return t.forEach(function(r,i){if(0!==i){var o=Kn(e,[r,t[a.decision]],n);a.reason||(a.reason=o.reason),1===o.decision&&(a={decision:i,reason:o.reason})}}),a}function Kn(e,t,n){return 3===n.remainingPlayers?Zn(e,t[0],t[1]):4===n.remainingPlayers&&Fr(n)?function(e,t,n,a){var r=Xn(e,n,a),i=Xn(e,t,a),o=r>i?0:1;return{decision:o,reason:"Evicting ".concat([t,n][o].name," gives me better odds of making it to the end and winning.")}}(e,t[0],t[1],Rr(Array.from(n.nonEvictedHouseguests.values()).map(function(e){return n.houseguestCache[e]}),[t[0],t[1],e])[0]):Fn(Dn(e,t[0]),Dn(e,t[1]),e,n)}function Xn(e,t,n){var a=e.superiors[t.id],r=e.superiors[n.id],i=t.superiors[n.id];if(void 0===a)throw new Error("Tried to get a power comparison that does not exist between ".concat(e.name," and ").concat(t.name," [1]"));if(void 0===r)throw new Error("Tried to get a power comparison that does not exist between ".concat(e.name," and ").concat(n.name," [2]"));if(void 0===i)throw new Error("Tried to get a power comparison that does not exist between ".concat(t.name," and ").concat(n.name," [3]"));return 1/3*Math.max(a,r)+1/3*(0===Zn(t,e,n).decision?0:a)+1/3*(0===Zn(n,e,t).decision?0:r)}function Zn(e,t,n){var a=e.superiors[t.id]<e.superiors[n.id]?0:1;return{decision:a,reason:"I have better odds of beating ".concat(a?t.name:n.name," in the final 2.")}}function $n(e,t,n){var a=Object(E.a)(t);if(a.sort(function(t,a){return zn(Dn(e,t),Dn(e,a),e,n)?-1:1}),0===a.length)throw"Tried to get a worst target from 0 options";return a[0]}function ea(e,t,n,a){var r=[];if(void 0!==e.tribe){var i=Rr(t,n.houseguests.filter(function(t){return void 0!==t.tribe&&t.tribe.tribeId===e.tribe.tribeId}));i.length>=a&&(t=i),i.length<a&&i.length>0&&(r.push.apply(r,Object(E.a)(i)),t=Rr(t,i))}if(t.length<a)throw new Error("Tried to backdoor ".concat(a," players with ").concat(t.length," options."));for(var o=[],c=r,s=0;s<c.length;s++){var u=c[s];o.push({decision:u.id,reason:"I am forced to nominate ".concat(u.name)})}var l=Object(E.a)(t);for(l.sort(function(t,a){return zn(Dn(e,t),Dn(e,a),e,n)?1:-1});o.length<a;){var m=l[o.length];o.push({decision:m.id,reason:""})}return o}function ta(e,t,n){var a=.5+(e.relationshipWith(t)-e.relationshipWith(n))/2;return a>1&&(a=1),a<0&&(a=0),a}function na(e,t,n){for(var a=new qr(e),i=[t,n],o=[],c=[],s=0;s<4;s++){var u=Dr(a,ea(s%2===0?t:n,Rr(a.houseguests,i),a,1)[0].decision);i.push(u),s%2===0?o.push(u):c.push(u)}[o,c].forEach(function(e){return e.forEach(function(e){return e.nominations++})});var l=function(e,t){return r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"columns is-centered"},r.a.createElement("div",{className:"column"},r.a.createElement(Fe,{centered:!0,houseguest:t}))),r.a.createElement("div",{className:"columns is-centered"},r.a.createElement(Mn,{className:"column is-5"},r.a.createElement(it,null," ","My first nominee is..."),r.a.createElement(Fe,{centered:!0,houseguest:e[0]})),r.a.createElement(Mn,{className:"column is-5"},r.a.createElement(it,null," ","My second nominee is..."),r.a.createElement(Fe,{centered:!0,houseguest:e[1]})))),r.a.createElement("div",{className:"column"},r.a.createElement(ot,null,function(e){return"I have nominated you, ".concat(jn(e.map(function(e){return e.name}))," for eviction. ")}(e))))},m=new Ct({title:"Nomination Ceremony",gameState:a,content:r.a.createElement("div",null,r.a.createElement(it,null,"This is the nomination ceremony. It is our responsibility as Heads of Household to each nominate two houseguests for eviction."),r.a.createElement("div",{className:"columns is-marginless is-centered"},l(o,t),l(c,n)),r.a.createElement("br",null),r.a.createElement(Mt,null))});return[new Jr(a),m,[o,c]]}!function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(Rn||(Rn={})),function(e){e[e.StatusQuo=0]="StatusQuo",e[e.Underdog=1]="Underdog",e[e.MoR=2]="MoR"}(Bn||(Bn={}));var aa={name:"Golden Power of Veto",use:ca},ra={name:"\ud83d\udc8e Diamond Power of Veto",use:function(e,t,n,a,r){if(!(arguments.length>5&&void 0!==arguments[5]&&arguments[5])){var i=sa(e,t,n,a,r);if(i)return i}var o=ea(e,Rr(Ur(n),[e,Dr(n,a)]),n,2).map(function(e){return e.decision}),c=t.map(function(e){return e.id});if(o[0]===c[0]&&o[1]===c[1]||o[0]===c[1]&&o[1]===c[0])return{decision:null,reason:"These are my ideal nominations."};var s=zn(Dn(e,t[0]),Dn(e,t[1]),e,n)?0:1;return{decision:t[s],reason:"I would rather see someone else nominated."}}},ia={name:"\ud83d\udd26 Spotlight Power of Veto",use:function(e,t,n,a,r){var i=sa(e,t,n,a,r);if(i&&null!==i.decision)return i;var o=Fn(Dn(e,t[0]),Dn(e,t[1]),e,n),c=0===o.decision?1:0;return{decision:t[c],reason:o.reason}}},oa={name:"\ud83e\ude83 Boomerang Power of Veto",use:function(e,t,n,a,r){if(2!==t.length)throw new Error("Boomerang veto only works for 2 nominees.");var i=sa(e,t,n,a,r);if(i)return i;if(n.remainingPlayers-1-t.length===2)return{decision:null,reason:"It doesn't make sense to use the veto here."};var o=ca(e,[t[0]],n,a,r),c=ca(e,[t[1]],n,a,r);if(null===o.decision&&null===c.decision)return{decision:null,reason:"I don't want to save either of these noms."};if(null!==o.decision&&null!==c.decision)return{decision:t[0],reason:"I want to save both of these noms."};return _n(e)===Bn.StatusQuo?{decision:null,reason:"I want to evict at least one of these noms."}:{decision:t[0],reason:"I want to save at least one of these noms."}}};function ca(e,t,n,a,r){var i=sa(e,t,n,a,r);if(i)return i;var o="None of these nominees are my friends.",c=null;return t.forEach(function(t){_(e.popularity,t.popularity,e.relationshipWith(t))===W.Friend&&(c?(c=e.relationshipWith(t)>e.relationshipWith(c)?t:c,o="Of these noms, I like ".concat(c.name," the most.")):(o="".concat(t.name," is my friend."),c=t))}),c?{decision:c,reason:o}:{decision:null,reason:o}}function sa(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(e.id===a)return{decision:null,reason:"These are my ideal nominations."};var i=!0,o=!1,c=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;if(e.id===l.id)return{decision:e,reason:"I am going to save myself."}}}catch(m){o=!0,c=m}finally{try{i||null==u.return||u.return()}finally{if(o)throw c}}return Object(w.every)(r,function(t){return t.id!==e.id})&&n.remainingPlayers-1-r.length-t.length===1?{decision:null,reason:"It doesn't make sense to use the veto here."}:null}var ua={canPlayWith:function(e){return e>=6},eliminates:1,arrowsEnabled:!0,emoji:"\u2694\ufe0f",hasViewsbar:!0,name:"Battle of the Block",description:"Two HoHs name a total of four nominees. The nominees compete in a competition, and the winners are safe for the week and dethrone the HoH who nominated them.",generate:function(e){var t,a,i,o,c=new qr(e),s=[],u=On(c,{coHoH:!0,coHohIsFinal:!1}),l=Object(g.a)(u,3);c=l[0],a=l[1],t=l[2],s.push(a);var m,h,d,f,v=na(c,t[0],t[1]),p=Object(g.a)(v,3);c=p[0],i=p[1],o=p[2],s.push(i);var b=function(e,t,a){var i=new qr(e),o=Ar().flipCoin(),c=t[o?0:1];i.previousHOH=[c],i.currentLog.votes[c.id]=new yn;var s=o?[a[0],a[1]]:[a[2],a[3]],u=o?[a[2],a[3]]:[a[0],a[1]];i.currentLog.nominationsPreVeto=n(22)(s.map(function(e){return e.name})),i.currentLog.strikethroughNominees=n(22)(u.map(function(e){return e.name}));var l=function(e,n){return r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"columns is-centered"},r.a.createElement("div",{className:"column"},r.a.createElement(Fe,{centered:!0,houseguest:t[e]}))),r.a.createElement("div",{className:"columns is-centered"},r.a.createElement(Mn,{className:"column is-11"},r.a.createElement(ze,{centered:!0,houseguests:[a[n],a[n+1]]}))))},m=l(0,0),h=l(1,2),d=new Ct({title:"Battle of the Block",gameState:i,content:r.a.createElement("div",null,r.a.createElement(it,null,"This is the Battle of the Block competition. ".concat(t[0].name,"'s nominees will battle ").concat(t[1].name,"'s nominees to save themselves from the block. The winning pair will win safety for the week, and dethrone the HoH that nominated them.")),r.a.createElement("div",{className:"columns is-centered"},m," ",h),r.a.createElement(it,null,"..."),r.a.createElement(ze,{centered:!0,houseguests:u}),r.a.createElement(ot,null,"".concat(jn(u.map(function(e){return e.name}))," have won the Battle of the Block!")),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"columns is-centered"},r.a.createElement("div",{className:"column"},r.a.createElement(Fe,{centered:!0,houseguest:c}))),r.a.createElement("div",{className:"columns is-centered"},r.a.createElement(Mn,{className:"column is-5"},r.a.createElement(Fe,{centered:!0,houseguest:s[0]})),r.a.createElement(Mn,{className:"column is-5"},r.a.createElement(Fe,{centered:!0,houseguest:s[1]})))),r.a.createElement(ot,null,"".concat(jn([c.name])," will remain as HoH, with ").concat(jn(s.map(function(e){return e.name}))," as nominees.")),r.a.createElement("br",null),r.a.createElement(Mt,null))});return[new Jr(i),d,c,s,u]}(c,t,[].concat(Object(E.a)(o[0]),Object(E.a)(o[1]))),y=Object(g.a)(b,5);c=y[0],m=y[1],h=y[2],d=y[3],f=y[4],s.push(m);var w=ui(aa,c,h,d,!1,s,f);return c=w.gameState,new Nt({gameState:new Jr(c),initialGamestate:e,scenes:w.scenes,type:ua})}};var la={canPlayWith:function(e){return e>=5},eliminates:1,arrowsEnabled:!0,hasViewsbar:!0,emoji:"\ud83e\ude83",description:"A veto that must be discarded or used to save both nominees.",name:"Boomerang Veto",generate:function(e){var t=si(e,oa);return new Nt({gameState:new Jr(t.gameState),initialGamestate:e,scenes:t.scenes,type:la})}};function ma(e,t,a){var i,o=new qr(e),c=t[0],s=t.length>1?t[1]:void 0,u=a.doubleEviction||!1,l=Dr(o,ea(c,Rr(o.houseguests,s?[c,s]:[c]),o,1)[0].decision),m=Dr(o,s?ea(s,Rr(o.houseguests,[c,s,l]),o,1)[0].decision:ea(c,Rr(o.houseguests,[c,l]),o,1)[0].decision);l.nominations++,m.nominations++,o.currentLog.nominationsPreVeto=[l.name,m.name],a.thirdNominee&&((i=Dr(o,ea(c,Rr(o.houseguests,[c,l,m]),o,1)[0].decision)).nominations++,o.currentLog.nominationsPreVeto.push(i.name)),o.currentLog.nominationsPreVeto=n(22)(o.currentLog.nominationsPreVeto);var h=s?function(e){return e}:w.shuffle,d=h(i?[l,m,i]:[l,m]),f="".concat(s?"We":"I"," have nominated you, ").concat(jn(d.map(function(e){return e.name}))," for eviction. "),v=s?"our":"my",p=s?"Heads of Household":"the Head of Household",g=s?"".concat(c.name," has nominated..."):"My first nominee is...",b=s?"".concat(s.name," has nominated..."):"My second nominee is...",E=new Ct({title:"Nomination Ceremony",gameState:o,content:r.a.createElement("div",null,r.a.createElement(it,null,!u&&"This is the nomination ceremony. It is ".concat(v," responsibility as ").concat(p," to\n                    nominate ").concat(a.thirdNominee?"three":"two"," houseguests for eviction.")),!u&&r.a.createElement(ze,{centered:!0,houseguests:t}),r.a.createElement("div",{className:"columns is-marginless is-centered"},r.a.createElement(Mn,{className:"column"},r.a.createElement(it,null,g),r.a.createElement(Fe,{centered:!0,houseguest:d[0]})),r.a.createElement(Mn,{className:"column"},r.a.createElement(it,null,b),r.a.createElement(Fe,{centered:!0,houseguest:d[1]})),a.thirdNominee&&r.a.createElement(Mn,{className:"column"},r.a.createElement(it,null,"My third nominee is..."),r.a.createElement(Fe,{centered:!0,houseguest:d[2]}))),r.a.createElement(ot,null,f),r.a.createElement("br",null),!u&&r.a.createElement(Mt,null))});return[new Jr(o),E,d]}function ha(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=new qr(e),c=Ur(o),s=[],u=c.length<=6;if(u)for(t.forEach(function(e){return s.push(Object(p.a)({},e))}),n.forEach(function(e){return s.push(Object(p.a)({},e))});s.length<c.length;)s.push(Object(p.a)({},Br(c,s)));else for(t.forEach(function(e){return s.push(Object(p.a)({},e))}),n.forEach(function(e){return s.push(Object(p.a)({},e))});s.length<6;)s.push(Object(p.a)({},Br(c,s)));var l,m=Br(s);(m=Dr(o,m.id)).povWins++,o.currentLog.vetoWinner=m.name,l=u?"Everyone left in the house will compete in this challenge.":"".concat(jn(t.map(function(e){return e.name})),", as Head of Household, and ").concat(jn(n.map(function(e){return e.name}))," as nominees, will compete, as well as ").concat(s.length-t.length-n.length," others chosen by random draw.");for(var h=[].concat(Object(E.a)(t),Object(E.a)(n)),d=[],f=h.length;f<s.length;f++)d.push(s[f]);var v=new Ct({title:"Veto Competition",gameState:e,content:r.a.createElement("div",null,r.a.createElement(it,null,i?"The houseguests compete in the veto competition.":"It's time to pick players for the veto competition."),r.a.createElement(ze,{centered:!0,houseguests:h}),!i&&r.a.createElement(it,null,l),r.a.createElement(ze,{centered:!0,houseguests:d}),r.a.createElement(it,null,"..."),r.a.createElement(ze,{centered:!0,houseguests:[m]}),r.a.createElement(ot,null,"".concat(m.name," has won the ").concat(a.name,"!")),!i&&r.a.createElement(Mt,null))});return[new Jr(o),v,m]}function da(e,t,a,i,o,c,s){var u,l="";a=a.map(function(t){return Dr(e,t.id)});var m=t[0],h=t.length>1?t[1]:void 0,d=c.use(i,a,e,h?-1:m.id,s),f=!1;a.forEach(function(e){return e.id===i.id&&(f=!0)});var v="to use the power of veto";l+=(u=d.decision)?c===oa?"... ".concat(v,"."):f?"...".concat(v," on myself."):"...".concat(v," on ").concat(u.name,"."):"... not ".concat(v,".");var g="",b="",y=Object(E.a)(a),w=h&&u&&u.id===a[1].id?h:m,k=c===ra?i:w;if(u){var j=m.id===i.id&&!h,O=c===oa?"replacement nominees":"a replacement nominee",S=c!==oa?"one of ":"",x=c===ra?"I":"you";b+=j?"Since I have just vetoed one of my nominations, I must name ".concat(O,"."):"".concat(w.name,", since I have just vetoed ").concat(S,"your nominations, ").concat(x," must name ").concat(O,".");var N=Rr(e.houseguests,[m].concat(Object(E.a)(a),[i],Object(E.a)(s),[h||m]));0===N.length&&(N=Rr(e.houseguests,[m].concat(Object(E.a)(a),Object(E.a)(s))));var C=ea(k,N,e,c===oa?2:1).map(function(t){return Dr(e,t.decision)});if(1===C.length){var M=C[0];y[a.findIndex(function(e){return e.id===d.decision.id})]=M,M.nominations++,g="My replacement nominee is ".concat(M.name,".")}else(y=C).forEach(function(e){return e.nominations++}),g="My replacement nominees are ".concat(jn(C.map(function(e){return e.name})),".")}var T=a.map(function(e){return e.name}),I=new Ct({title:"Veto Ceremony",gameState:e,content:r.a.createElement("div",null,!o&&r.a.createElement(it,null,"This is the Veto Ceremony."),!o&&r.a.createElement(it,null,"".concat(jn(T)," have been nominated for eviction, \n                    but I have the power to veto one of these nominations.")),r.a.createElement("div",{className:"columns is-marginless is-centered"},a.map(function(e,t){return r.a.createElement(Mn,{className:"column",key:"nominee-".concat(t)},r.a.createElement(Fe,{centered:!0,houseguest:e}))})),r.a.createElement(ot,null,"I have decided... ",r.a.createElement("br",null)),r.a.createElement(Fe,{centered:!0,houseguest:Object(p.a)({},i,{tooltip:d.reason})}),r.a.createElement(ot,{noMargin:!0},l),r.a.createElement(it,null,b),g&&r.a.createElement(Fe,{centered:!0,houseguest:k}),r.a.createElement(ot,null,g),r.a.createElement("div",{className:"columns is-marginless is-centered"},y.map(function(e,t){return r.a.createElement(Mn,{className:"column",key:"final-nominee-".concat(t)},r.a.createElement(Fe,{centered:!0,houseguest:e}))})),!o&&r.a.createElement(Mt,null))});return e.currentLog.nominationsPostVeto=n(22)(y.map(function(e){return e.name})),[e,I,y]}function fa(e,t){var n=Dr(e,t);return e.currentLog&&e.currentLog.evicted.push(n.id),n.isEvicted=!0,e.remainingPlayers-2<=e.finalJurySize()&&(n.isJury=!0),e.nonEvictedHouseguests.delete(n.id),e.remainingPlayers--,va(e),e}function va(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Fr(e)&&0===_r(e).length&&function(e){for(var t=0;t<e.length;t++)for(var n=e[t],a=t+1;a<e.length;a++){var r=e[a],i=An({hero:n,villain:r},e);n.superiors[r.id]=i,r.superiors[n.id]=1-i}}(Ur(e)),Fr(e)&&(t=Ur(e)).forEach(function(e){var n=Object(p.a)({},e.superiors),a=new Set(t.map(function(e){return e.id}));n=k.a.filter(n,function(e,t){return a.has(parseInt(t))}),e.powerRanking=function(e){var t=0;return e.forEach(function(e){return t+=e}),t/e.length}(Object.values(n))}),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ur(e).forEach(function(n){n.targetingMe=0;var a=function(e,t){var n=0,a=0,r=e.id;return t.forEach(function(e){e.id!==r&&(a++,n+=e.relationships[r])}),0===a?0:n/a}(n,Ur(e));t&&(n.deltaPopularity=(j(a)-j(n.previousPopularity))/100),n.popularity=a})}(e,n),e.remainingPlayers>2&&function(e){var t=Ur(e);t.forEach(function(n){var a=new Un(n),r=0,i=0;t.forEach(function(e){if(n.id!==e.id){var t=_(n.popularity,e.popularity,n.relationshipWith(e));t===W.Friend?r++:t===W.Enemy&&i++}}),n.friends=r,n.enemies=i,a.refreshTargets(e),n.targets=a.getTargets(),n.targets.forEach(function(t){Dr(e,t).targetingMe++})})}(e)}function pa(e,t,n,a){var i=a.doubleEviction||!1,o="Save"===a.votingTo?Yn:Kn,c=new qr(e);c.currentLog.votingTo=a.votingTo;var s,u=(n=Object(w.shuffle)(n)).map(function(e){return[]}),l=0,m=new Set(n.map(function(e){return e.id}));t.forEach(function(e){return m.add(e.id)}),Ur(c).forEach(function(e){if(!m.has(e.id)){var t=o(e,n,c),r=Object(p.a)({},e);r.tooltip=t.reason,c.currentLog.votes[e.id]="Evict"===a.votingTo?new fn(n[t.decision].id):new dn(n[t.decision].id),u[t.decision].push(r),s=e,l++}});var h=u.map(function(e){return e.length}),d=function(e){var t=Math.max.apply(Math,Object(E.a)(e));return e.reduce(function(e,n,a){return n===t&&e.push(a),e},[])}(h);c.currentLog.outOf=l,1===l&&(c.currentLog.soleVoter=s.name);var f=d.length>1,v={decision:-1,reason:""},g=a.tieBreaker?a.tieBreaker.hg:t[0];if(f){c.currentLog.outOf++,v=o(g,d.map(function(e){return n[e]}),c);var b=n[d[v.decision]].id;c.currentLog.votes[g.id]=a.tieBreaker?a.tieBreaker.voteType(b):new yn(b)}var y=[];if("Evict"===a.votingTo)v.decision>-1?(y.push(n[d[v.decision]]),c.currentLog.votesInMajority=h[d[v.decision]]+1):(y.push(n[d[0]]),c.currentLog.votesInMajority=h[d[0]]);else if(v.decision>-1){var k=n[d[v.decision]];c.currentLog.votesInMajority=h[d[v.decision]]+1,n.forEach(function(e){e.id!==k.id&&y.push(e)})}else{var j=n[d[0]];c.currentLog.votesInMajority=h[d[0]],n.forEach(function(e){e.id!==j.id&&y.push(e)})}var O=new Set(y.map(function(e){return e.id}));n.forEach(function(e){c.currentLog.votes[e.id]=new gn(O.has(e.id))});var S={};n.forEach(function(e,t){O.has(e.id)&&(S[e.id]=h[t]+(v.decision===t?1:0))}),"Evict"===a.votingTo?y.sort(function(e,t){return S[t.id]-S[e.id]}):y.sort(function(e,t){return S[e.id]-S[t.id]}),y.forEach(function(e){c=fa(c,e.id)});var x=1===h.filter(function(e){return 0!==e}).length?"By a unanimous vote...":"By a vote of ".concat(function(e){return 0===e.length?"":1===e.length?e[0]:2===e.length?e[0]+" to "+e[1]:e.slice(0,e.length-1).join(" - ")+" - "+e[e.length-1]}(h.map(function(e){return"".concat(e)})),"..."),N=a.tieBreaker?a.tieBreaker.text:"current Head of Household",C="".concat(g.name,", as ").concat(N,", you must cast the sole vote to ").concat(a.votingTo.toLowerCase(),"."),M=Object(p.a)({},g);M.tooltip=v.reason;var T=i?{marginTop:200}:{},I=new Ct({title:"Live Eviction",gameState:e,content:r.a.createElement("div",{style:T},r.a.createElement(ot,null,x),r.a.createElement("div",{className:"columns is-centered"},u.map(function(e,t){return r.a.createElement(Mn,{className:"column",key:"voters".concat(t)},r.a.createElement(ze,{houseguests:e,centered:!0}))})),f&&r.a.createElement("div",null,r.a.createElement(ot,null," We have a tie."),r.a.createElement(it,null,C),r.a.createElement(ze,{houseguests:[M],centered:!0}),r.a.createElement(ot,null,"I vote to ",a.votingTo.toLowerCase()," ".concat(n[d[v.decision]].name,"."))),r.a.createElement(ze,{houseguests:n.map(function(e){return Dr(c,e.id)}),centered:!0}),"Save"===a.votingTo&&r.a.createElement(ot,null,"".concat(jn(n.filter(function(e){return!O.has(e.id)}).map(function(e){return e.name})),"... you are safe.")),r.a.createElement(ot,null,"".concat("Save"===a.votingTo?"That means ":"").concat(jn(y.map(function(e){return e.name})),"... you have been evicted from the Big Brother House.")),r.a.createElement(Mt,null))});return[c,I]}var ga={canPlayWith:function(e){return e>=5},eliminates:1,arrowsEnabled:!0,hasViewsbar:!0,name:"Co-HoH",description:"Two HoHs each name one nominee, and are responsible for replacing the person they nominated if the veto is used on them.",emoji:"\ud83d\udc65",generate:function(e){var t,n,a,r,i=new qr(e),o=[],c=On(i,{coHoH:!0,coHohIsFinal:!0}),s=Object(g.a)(c,3);i=s[0],n=s[1],t=s[2],o.push(n);var u,l,m=ma(i,t,{}),h=Object(g.a)(m,3);i=h[0],a=h[1],r=h[2],o.push(a);var d,f=ha(i,t,r,aa),v=Object(g.a)(f,3);i=v[0],u=v[1],l=v[2],o.push(u);var p,b=da(i,t,r,l,!1,aa,[]),E=Object(g.a)(b,3);i=E[0],d=E[1],r=E[2],o.push(d);var y=pa(i,t,r,{votingTo:"Evict",tieBreaker:{hg:l,text:"Power of Veto winner",voteType:function(e){return new bn(e)}}}),w=Object(g.a)(y,2);return i=w[0],p=w[1],o.push(p),new Nt({gameState:new Jr(i),initialGamestate:e,scenes:o,type:ga})}};var ba={canPlayWith:function(e){return e>=4},eliminates:1,arrowsEnabled:!0,emoji:"\ud83d\udc8e",hasViewsbar:!0,name:"Diamond Veto",description:"The veto winner has the right to name a replacement nominee.",generate:function(e){var t=si(e,ra);return new Nt({gameState:new Jr(t.gameState),initialGamestate:e,scenes:t.scenes,type:ba})}};var Ea={canPlayWith:function(e){return e>=4},eliminates:1,arrowsEnabled:!0,emoji:"\u23e9",hasViewsbar:!0,chainable:!0,name:"Double Eviction",description:"A second round of Big Brother plays out in a single scene.",generate:function(e){var t=new qr(e),n=[];t.incrementLogIndex();var a=si(t,aa,!0);return t=a.gameState,n.push(new Ct({title:"Double Eviction",content:r.a.createElement("div",null,a.scenes.map(function(e){return e.content})),gameState:a.gameState})),new Nt({gameState:new Jr(t),initialGamestate:e,scenes:n,type:Ea})}};var ya={canPlayWith:function(e){return e>=5},eliminates:1,arrowsEnabled:!0,emoji:"\ud83d\udd26",hasViewsbar:!0,name:"Forced Veto",description:"The veto winner must use the veto.",generate:function(e){var t=si(e,ia);return new Nt({gameState:new Jr(t.gameState),initialGamestate:e,scenes:t.scenes,type:ya})}};var wa={canPlayWith:function(e){return e>=4},eliminates:1,arrowsEnabled:!0,emoji:"\u26a1",hasViewsbar:!0,chainable:!0,name:"Instant Eviction",description:"A double eviction without a veto.",generate:function(e){var t=new qr(e),n=[];t.incrementLogIndex();var a=si(t,null,!0);return t=a.gameState,n.push(new Ct({title:"Instant Eviction",content:r.a.createElement("div",null,a.scenes.map(function(e){return e.content})),gameState:a.gameState})),new Nt({gameState:new Jr(t),initialGamestate:e,scenes:n,type:wa})}};var ka={canPlayWith:function(e){return e>=4},eliminates:1,arrowsEnabled:!0,emoji:"\ud83d\udeab",hasViewsbar:!0,name:"No Veto",description:"A week without a veto.",generate:function(e){var t=si(e,null);return new Nt({gameState:new Jr(t.gameState),initialGamestate:e,scenes:t.scenes,type:ka})}};var ja={eliminates:0,canPlayWith:function(e){return e>2},arrowsEnabled:!0,emoji:"",hasViewsbar:!1,name:"Pregame",description:"",generate:function(e){return new Oa(e)}},Oa=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,{title:"Pregame",scenes:[],content:r.a.createElement(gr,{cast:e.houseguests}),gameState:e,type:ja}))).title="Pregame",n.scenes=[],n.content=void 0,n.gameState=void 0,n.type=ja,n.gameState=e,n.content=r.a.createElement(gr,{cast:e.houseguests}),n}return Object(m.a)(t,e),t}(Nt),Sa={canPlayWith:function(e){return e>=5},eliminates:2,arrowsEnabled:!0,emoji:"\ud83c\udde8\ud83c\udde6",chainable:!0,hasViewsbar:!0,name:"Triple Eviction",description:"A double eviction with three nominees. Houseguests vote to save one, and the other two are evicted.",generate:function(e){var t,n,a=new qr(e),i=[];a.incrementLogIndex();var o=[],c=On(a,{doubleEviction:!0,customText:"Houseguests, please return to the living room. Tonight will be a triple eviction."}),s=Object(g.a)(c,3);a=s[0],n=s[1],t=s[2],o.push(n);var u,l,m,h,d=t[0],f=ma(a,[d],{doubleEviction:!0,thirdNominee:!0}),v=Object(g.a)(f,3);a=v[0],u=v[1],l=v[2],o.push(u);var p,b=ha(a,[d],l,aa,!0),E=Object(g.a)(b,3);a=E[0],m=E[1],h=E[2],o.push(m);var y,w=da(a,[d],l,h,!0,aa,[]),k=Object(g.a)(w,3);a=k[0],p=k[1],l=k[2],o.push(p);var j=pa(a,[d],l,{doubleEviction:!0,votingTo:"Save"}),O=Object(g.a)(j,2);return a=O[0],y=O[1],o.push(y),i.push(new Ct({title:"Triple Eviction",content:r.a.createElement("div",null,o.map(function(e){return e.content})),gameState:a})),new Nt({gameState:new Jr(a),initialGamestate:e,scenes:i,type:Sa})}};var xa=0;function Na(e,t){return{color:t,name:e,tribeId:xa++}}function Ca(e){var t=e.team;return r.a.createElement("div",{className:"field has-addons",style:{textAlign:"center"},key:t.tribeId},r.a.createElement("p",{className:"field-label is-normal control"},r.a.createElement(Ra,{className:"label"},"#",e.i," Name:")),r.a.createElement("p",{className:"control"},r.a.createElement("input",{className:"input",value:t.name,onChange:function(t){return e.team.onChangeName(t.target.value)}})),r.a.createElement("p",{className:"field-label is-normal control"},r.a.createElement(Ra,{className:"label"},"Color")),r.a.createElement("p",{className:"control"},r.a.createElement("input",{type:"color",value:t.color,onChange:function(t){return e.team.onChangeColor(t.target.value)}})),r.a.createElement("p",{className:"control"},r.a.createElement("button",{className:"button is-danger",disabled:e.disabled,onClick:t.removeTeam},"X")))}var Ma=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=Object.values(this.props.Teams);return r.a.createElement("div",{className:"column is-12-desktop is-12-widescreen is-12-fullhd is-12-tablet",style:{border:"1px solid #808080",borderRadius:"4px",backgroundColor:"#444346",margin:"10px"},key:this.props.id},r.a.createElement(ot,null,"Team Phase ",this.props.id),e.map(function(t,n){return r.a.createElement(Ca,{team:t,key:n,disabled:e.length<=2,i:1+n})}),r.a.createElement("div",{className:"level is-marginless"},r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button is-primary",onClick:this.props.addTeam},"Add Team"))),r.a.createElement("div",{className:"level"},r.a.createElement(Ra,{className:"label"},"\ud83c\udfc1 Ends at Final"),r.a.createElement($e,{className:"input",value:this.props.endsWhen,onChange:this.props.onChangeNumber}),r.a.createElement("button",{className:"button is-danger",onClick:this.props.deleteSelf},"Delete Team Phase")))}}]),t}(r.a.Component),Ta={};var Ia=function(e){function t(e){var n;return Object(c.a)(this,t),n=Object(u.a)(this,Object(l.a)(t).call(this,e)),Ta={},n.state={items:{},id:1},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){Ta=Object(p.a)({},this.state.items)}},{key:"getOnChangeName",value:function(e,t){var n=this;return function(a){var r=n.state;r.items[e].Teams[t].name=a,n.setState(r)}.bind(this)}},{key:"getOnChangeColor",value:function(e,t){var n=this;return function(a){var r=n.state;r.items[e].Teams[t].color=a,n.setState(r)}.bind(this)}},{key:"getOnDelete",value:function(e,t){var n=this;return function(){var a=n.state;delete a.items[e].Teams[t],n.setState(a)}.bind(this)}},{key:"getTwist",value:function(e){return{canPlayWith:function(e){return e>3},eliminates:0,pseudo:!0,teamsLookupId:e,name:"Team Phase ".concat(e),emoji:"\ud83c\udf8c",generate:function(e){throw"UNREACHABLE"}}}},{key:"getOnDeleteSelf",value:function(e){var t=this;return function(){var n=t.state;Ot.next({type:t.getTwist(e),add:!1}),delete n.items[e],t.setState(n)}.bind(this)}},{key:"render",value:function(){var e=this,t=this.state.items;return r.a.createElement("div",null,Object.values(t).map(function(e,t){return r.a.createElement(Ma,Object.assign({},e,{key:t}))}),r.a.createElement("button",{className:"button is-primary",onClick:function(){for(var n=Object(p.a)({},t),a=e.state.id,r=D(),i={},o=[Na("",r.toHex()),Na("",function(e){return new V(255-e.r,255-e.g,255-e.b)}(r).toHex())],c=0;c<o.length;c++){var s=o[c],u=s.tribeId;i[u]=Object(p.a)({},s,{onChangeName:e.getOnChangeName(a,u),onChangeColor:e.getOnChangeColor(a,u),removeTeam:e.getOnDelete(a,u)})}n[a]={id:a,endsWhen:"2",onChangeNumber:function(t){var n=Object(p.a)({},e.state);n.items[a].endsWhen=t,e.setState(n)}.bind(e),Teams:i,deleteSelf:e.getOnDeleteSelf(a),addTeam:function(){var t=Object(p.a)({},e.state),n=Na("",D().toHex()),r=n.tribeId;t.items[a].Teams[r]=Object(p.a)({},n,{onChangeName:e.getOnChangeName(a,r),onChangeColor:e.getOnChangeColor(a,r),removeTeam:e.getOnDelete(a,r)}),t.id=a+1,e.setState(t)}},Ot.next({add:!0,type:e.getTwist(a)}),e.setState({items:n,id:a+1})}},"\ud83c\udf8c Add Teams Twist"))}}]),t}(r.a.Component),Pa=function e(){Object(c.a)(this,e),this.nominationsPreVeto=[],this.vetoWinner=void 0,this.winner=void 0,this.runnerUp=void 0,this.nominationsPostVeto=[],this.evicted=[],this.customEvicted=[],this.customEvictedText="",this.votes={},this.votesInMajority=-1,this.outOf=-1,this.soleVoter=void 0,this.votingTo=void 0,this.pseudo=!1,this.strikethroughNominees=[]};function Ha(e){return e.nominationsPreVeto.length>0||e.nominationsPostVeto.length>0||e.evicted.length>0||e.customEvicted.length>0||e.customEvictedText.length>0||Object.keys(e.votes).length>0||-1!==e.votesInMajority||-1!==e.outOf||void 0!==e.soleVoter||void 0!==e.votingTo||!!e.pseudo}function La(){var e=function(e){throw"UNREACHABLE"},t=[],n=Object(p.a)({},Ta),a=yt,r=new Map,i=Et.map(function(t){if(void 0!==t.episode.teamsLookupId){if(parseInt(n[t.episode.teamsLookupId].endsWhen)==a)return;r.set(t.episode.teamsLookupId,a);var i={canPlayWith:function(e){return e>3},eliminates:0,pseudo:!0,emoji:"\ud83c\udf8c",teamsLookupId:t.episode.teamsLookupId};t.episode=Object(p.a)({},i,{generate:function(a){var r=new qr(a),o=Object.values(n[t.episode.teamsLookupId].Teams),c=Object(w.shuffle)(Array.from(r.nonEvictedHouseguests)),s=Ha(r.currentLog);return s&&r.incrementLogIndex(),c.forEach(function(e,t){var n=Dr(r,e),a=o[t%o.length];n.tribe=a,r.currentLog.votes[n.id]=new wn(a.color)}),r.currentLog.pseudo=!0,!s&&r.incrementLogIndex(),new Nt({gameState:new Jr(r),initialGamestate:new Jr(r),scenes:[],type:Object(p.a)({},i,{generate:e})})}})}return a-=t.episode.eliminates,t}).filter(function(e){return!N(e)}),o=Object(w.sum)(i.map(function(e){return e.episode.eliminates}))+3;Object.values(n).forEach(function(t){var n=parseInt(t.endsWhen),a=r.get(t.id);if(!(n>=a)){var c=!1;if(r.forEach(function(e,r){c||r!==t.id&&a>e&&n<e&&(c=!0)}),!c){var s=Object.keys(t.Teams).map(function(e){return parseInt(e)}),u={pseudo:!0,canPlayWith:function(){return!0},eliminates:0,emoji:"\ud83c\udfc1"},l=Object(p.a)({},u,{generate:function(t){var n,a,r=new qr(t);n=r,a=new Set(s),n.nonEvictedHouseguests.forEach(function(e){var t=Dr(n,e),r=t.tribe;r&&a.has(r.tribeId)&&(t.tribe=void 0)});var i=Ha(r.currentLog);return i&&r.incrementLogIndex(),r.nonEvictedHouseguests.forEach(function(e,t){var n=Dr(r,e);r.currentLog.votes[n.id]=new kn("black")}),r.currentLog.pseudo=!0,!i&&r.incrementLogIndex(),new Nt({gameState:new Jr(r),initialGamestate:t,scenes:[],type:Object(p.a)({},u,{generate:e})})}});if(!(n<3)){for(var m=0,h=o;n<h&&n>3;)h-=i[m].episode.eliminates,m++;i.splice(m,0,{episode:l})}}}});var c=void 0,s=!0,u=!1,l=void 0;try{for(var m,h=i[Symbol.iterator]();!(s=(m=h.next()).done);s=!0){var d=m.value;d.episode.pseudo?c=d.episode:(c&&c.pseudo&&function(){var t=c,n=d.episode,a={canPlayWith:function(){return!0},eliminates:t.eliminates+n.eliminates,emoji:"".concat(t.emoji," ").concat(n.emoji)};d.episode=Object(p.a)({},a,{chainable:!!n.chainable,generate:function(r){var i=t.generate(r),o=n.generate(i.gameState);return new Nt({gameState:new Jr(o.gameState),initialGamestate:new Jr(i.gameState),scenes:o.scenes,type:Object(p.a)({},n,a,{generate:e})})}}),c=void 0}(),d.episode.chainable?function(){var n=t[t.length-1],a=d.episode,r={arrowsEnabled:n.arrowsEnabled||a.arrowsEnabled,canPlayWith:function(){return!0},eliminates:n.eliminates+a.eliminates,hasViewsbar:n.hasViewsbar||a.hasViewsbar,emoji:"".concat(n.emoji," ").concat(a.emoji)},i=Object(p.a)({},r,{generate:function(t){var i=n.generate(t),o=a.generate(i.gameState);return new Nt({gameState:new Jr(o.gameState),initialGamestate:i.initialGameState,scenes:i.scenes.concat(o.scenes),type:Object(p.a)({},r,{generate:e})})}});t[t.length-1]=i,c=i}():t.push(d.episode))}}catch(y){u=!0,l=y}finally{try{s||null==h.return||h.return()}finally{if(u)throw l}}for(var f={},v=yt,g=t,b=0;b<g.length;b++){var E=g[b];E!==ri&&(f[v]=E),v-=E.eliminates}return f}var Wa={canPlayWith:function(e){return e>=3},eliminates:1,chainable:!0,arrowsEnabled:!0,hasViewsbar:!0,name:"Safety Chain",emoji:"\u26d3\ufe0f",description:"The winner of a competition gives safety to another houseguest, who gives safety to another houseguest, until 3 unsafe houseguests remain. They compete in a final safety competition, and the two losers face an eviction vote.",generate:function(e){var t,n=e;n.incrementLogIndex();var a=function(e){var t=[],n=On(e,{doubleEviction:!0,customText:"Houseguests, please return to the living room. It is time for a Safety Chain Special Eviction.",skipHoHWin:!0,bottomText:"has won the safety competition!"}),a=Object(g.a)(n,3),i=a[0],o=a[1],c=a[2][0],s=Ur(i).filter(function(e){return e.id!==c.id});t.push(c);for(var u=i.nonEvictedHouseguests.size-3,l=c,m=[],h=!0;t.length<u;){var d=s.indexOf($n(l,s,i));t.push(s[d]),i.currentLog.votes[l.id]=h?new bn(s[d].id):new dn(s[d].id),h=!1,s.splice(d,1),m.push(r.a.createElement(it,{key:"safetychain-".concat(i.phase,"-").concat(t.length)},l.name," has chosen ",t[t.length-1].name,"!"),r.a.createElement(ze,{houseguests:[l,t[t.length-1]],key:"safetychain-".concat(i.phase,"-").concat(t.length,"-2"),centered:!0})),l=t[t.length-1]}i.currentLog.votes[l.id]=new dn(-1,"Not eligible");var f,v,p=s.slice(0,3);p.forEach(function(e){return i.currentLog.votes[e.id]=new En("Not eligible")}),i.currentLog.customEvictedText="not selected for safety",i.currentLog.customEvicted=p.map(function(e){return e.id}),m.push(r.a.createElement(ot,{key:"safetychain-final-".concat(i.phase,"-").concat(t.length)},jn(p.map(function(e){return e.name}))," compete in a second safety competition."),r.a.createElement(ze,{houseguests:p,centered:!0,key:"safetychain-final-".concat(i.phase,"-").concat(t.length,"-2")}));var b=On(i,{doubleEviction:!0,competitors:p,customText:"",skipHoHWin:!0,bottomText:"has won the safety competition!"}),E=Object(g.a)(b,3);i=E[0],f=E[1],v=E[2],i.incrementLogIndex();var y,w=p.filter(function(e){return e.id!==v[0].id}).map(function(e){return Dr(i,e.id)});i.currentLog.nominationsPostVeto=w.map(function(e){return e.name}),w.forEach(function(e){return e.nominations++});var k=pa(i,[],w,{votingTo:"Evict",doubleEviction:!0,tieBreaker:{hg:c,text:"Safety Competition winner",voteType:function(e){return new bn(e)}}}),j=Object(g.a)(k,2);i=j[0],y=j[1];var O=new Ct({title:"Chain Ceremony",gameState:e,content:r.a.createElement("div",null,o.content,m,r.a.createElement("div",{style:{marginTop:50}},r.a.createElement(it,null," ...")),f.content,y.content)});return[i,O]}(e),i=Object(g.a)(a,2);return n=i[0],t=i[1],new Nt({gameState:new Jr(n),scenes:[t],type:Wa})}};function Aa(){var e=Object(b.a)(["\n    color: #fff;\n"]);return Aa=function(){return e},e}function Va(){var e=Object(b.a)(["\n    text-align: center;\n    color: #fff;\n"]);return Va=function(){return e},e}var Da=re.c.h3(Va()),Ra=re.c.label(Aa()),Ba=[Ea,Sa,Wa,wa,ka,ba,ya,la,ga,ua],Ua=function(){var e=Object(v.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Or.next(La()),Er(r.a.createElement(gr,{cast:Sr.value}),or.Other),ee(null),e.next=5,kr(null);case 5:return e.next=7,kr(new Oa(new Jr({players:Sr.value,jury:t})));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function _a(){var e=Sr.value.length,t=Object(a.useState)("".concat(zr(e))),n=Object(g.a)(t,2),i=n[0],o=n[1],c=Gr(parseInt(i),e),s=Object(a.useState)(!0),u=Object(g.a)(s,2),l=u[0],m=u[1];return r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-one-quarter"},r.a.createElement(qe,null,r.a.createElement("h3",{style:{textAlign:"center"}},"Season Overview")),r.a.createElement("hr",null),r.a.createElement(Ie,null,r.a.createElement(jt,{setTwistsValid:m,castSize:e}))),r.a.createElement("div",{className:"column",style:{padding:20}},r.a.createElement(Da,null,"Add Twists"),r.a.createElement("div",{className:"columns is-multiline is-centered"},Ba.map(function(e){return r.a.createElement(xt,{type:e,key:"".concat(e.name).concat(e.emoji)})}),r.a.createElement("div",{className:"column is-4",style:{border:"1px solid #808080",borderRadius:"4px",backgroundColor:"#444346",margin:"10px"}},r.a.createElement(qe,{className:"field is-horizontal centered"},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement(Ra,{className:"label",style:c?{}:{color:"#fb8a8a"}},"Jury Size:")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement($e,{className:c?void 0:"is-danger",value:i,onChange:o,placeholder:"".concat(zr(e))})),r.a.createElement("p",{className:"help",style:c?{}:{color:"#fb8a8a"}},c?"(Jury starts at F".concat(parseInt(i)+2,")"):"Jury must be an odd number < ".concat(e-2))))))),r.a.createElement(Da,null,"\ud83c\udf8c Add Teams"),r.a.createElement(Ia,null)),r.a.createElement("div",{className:"column is-narrow",style:{paddingTop:20,paddingRight:20}},r.a.createElement("button",{className:"button is-success",style:{float:"right"},onClick:function(){Ua(parseInt(i))},disabled:!c||!l},"Submit")))}var Fa=1,za=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).sub=null,n.submit=function(){var e;e=n.state.players,Sr.next(e),Er(r.a.createElement(_a,null),or.Season)},n.random=function(e){var t=[],a=e,r=n.state.players,i=[];r.forEach(function(e){n.state.selectedPlayers.has(e.castingScreenId||-1)?(t.push(e),a--):i.push(e)}),a>0&&(i=(i=Object(w.shuffle)(i)).slice(0,a));var o=a>0?t.concat(i):t;o=Object(w.shuffle)(o),n.setState({players:o})},n.handleUpload=function(e){n.handleFiles(e.target.files)},n.handleDrop=function(e){e&&n.handleFiles(e)},e.cast&&(te(null),e.cast.forEach(function(e){return e.castingScreenId=Fa++})),n.state={players:e.cast||[],selectedPlayers:new Set},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.sub=Cr.subscribe(function(t){e.setState({selectedPlayers:t})})}},{key:"componentWillUnmount",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"deleteMethod",value:function(e,t){var n=this;return function(){var a=Object(p.a)({},n.state);a.players.splice(e,1),a.selectedPlayers.has(t)&&te(t),n.setState(a)}}},{key:"rename",value:function(e){var t=this;return function(){var n=Object(p.a)({},t.state),a=prompt("Enter a new name for ".concat(n.players[e].name));a&&(n.players[e].name=a,t.setState(n))}}},{key:"getFiles",value:function(){var e=this,t=this.state.players;if(t){var n=[],a=0;return t.forEach(function(t){return n.push(r.a.createElement(Le,{name:t.name,imageUrl:t.imageURL,onDelete:e.deleteMethod(a,t.castingScreenId||-1),onClick:function(){te(t.castingScreenId||-1)},onRename:e.rename(a),selected:e.state.selectedPlayers.has(t.castingScreenId||-1),key:(++a).toString()}))}),r.a.createElement("div",{className:"columns is-gapless is-mobile is-multiline is-centered"},n)}}},{key:"render",value:function(){var e=this;return r.a.createElement(Ke.a,{onDrop:this.handleDrop},r.a.createElement(qe,{className:"level"},r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button is-danger",onClick:function(){e.setState({players:[]}),te(null)}},"Delete all")),r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button is-danger",disabled:0===this.state.selectedPlayers.size,onClick:function(){var t=e.state.players.filter(function(t){return!e.state.selectedPlayers.has(t.castingScreenId||-1)});e.setState({players:t}),te(null)}},"Delete selected")),r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button is-warning",onClick:function(){return te(null)},disabled:0===this.state.selectedPlayers.size},"Unselect ",this.state.selectedPlayers.size||"all")),r.a.createElement("div",{className:"level-item"},r.a.createElement(et,{random:this.random})),r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button is-success",disabled:this.state.players.length<3,onClick:this.submit},"Next"))),r.a.createElement(Ye,{type:"file",multiple:!0,onChange:this.handleUpload}),0===this.state.players.length&&r.a.createElement(it,null,"~ Drop images here ~",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ut,{href:"https://github.com/spaulmark/bb-bots/blob/master/README.md#choose-a-cast-of-characters",target:"_blank",rel:"noopener noreferrer"},"Need help setting up a game?")),this.getFiles())}},{key:"handleFiles",value:function(e){for(var t=Object(p.a)({},this.state),n=0;n<e.length;n++){var a=e[n];a.type.match(/image\/*/)&&t.players.push({name:a.name.substr(0,a.name.lastIndexOf("."))||a.name,imageURL:URL.createObjectURL(a),castingScreenId:Fa++})}this.setState(t)}}]),t}(r.a.Component),Ga=n(34),Qa=n.n(Ga);function Ja(){var e=Object(b.a)(["\n    margin-left: 1rem;\n"]);return Ja=function(){return e},e}function qa(){var e=Object(b.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return qa=function(){return e},e}function Ya(){var e=Object(b.a)(["\n    display: flex;\n    cursor: pointer;\n    align-items: center;\n    :hover {\n        color: red;\n        background-color: #ffe1ea;\n    }\n"]);return Ya=function(){return e},e}var Ka=26,Xa="https://raw.githubusercontent.com/spaulmark/img/master/",Za={},$a=Object(re.c)(qe)(Ya()),er=re.c.div(qa()),tr=re.c.p(Ja());function nr(){return(nr=Object(v.a)(f.a.mark(function e(t){var n,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Za[t]){e.next=2;break}return e.abrupt("return",Za[t]);case 2:return e.next=4,fetch("".concat(Xa).concat(t,"/dir.json"));case 4:return e.next=6,e.sent.json();case 6:return n=e.sent,a=k.a.sample(n.files),Za[t]="".concat(Xa).concat(t,"/").concat(a),e.abrupt("return","".concat(Xa).concat(t,"/").concat(a));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ar(){return(ar=Object(v.a)(f.a.mark(function e(t){var n,a,i,o,c,s,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=!0,i=!1,o=void 0,e.prev=4,c=f.a.mark(function e(){var t,a,r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.value,e.next=3,fetch("".concat(Xa).concat(t,"/dir.json"));case 3:return e.next=5,e.sent.json();case 5:a=e.sent,r=a.files.map(function(e){return{name:e,url:"".concat(Xa).concat(t,"/").concat(e)}}),i=r.map(function(e){return{name:e.name.substr(0,e.name.lastIndexOf("."))||e.name,imageURL:e.url}}),n.push.apply(n,Object(E.a)(i));case 9:case"end":return e.stop()}},e)}),s=t[Symbol.iterator]();case 7:if(a=(u=s.next()).done){e.next=12;break}return e.delegateYield(c(),"t0",9);case 9:a=!0,e.next=7;break;case 12:e.next=18;break;case 14:e.prev=14,e.t1=e.catch(4),i=!0,o=e.t1;case 18:e.prev=18,e.prev=19,a||null==s.return||s.return();case 21:if(e.prev=21,!i){e.next=24;break}throw o;case 24:return e.finish(21);case 25:return e.finish(18);case 26:Er(r.a.createElement(za,{cast:n}),or.Casting);case 27:case"end":return e.stop()}},e,null,[[4,14,18,26],[19,,21,25]])}))).apply(this,arguments)}function rr(e){var t=r.a.useState(""),n=Object(g.a)(t,2),a=n[0],i=n[1],o=r.a.useState(!0),c=Object(g.a)(o,2),s=c[0],u=c[1],l=e.deck;s&&function(e){return nr.apply(this,arguments)}(l).then(function(e){u(!1),i(e)});var m=e.selected?{backgroundColor:ne.toHex(),color:"black"}:{};return r.a.createElement($a,{className:"column is-6",onClick:function(){return Tr(e.deck)},style:m},r.a.createElement("img",{src:a,style:{width:50,height:50}}),r.a.createElement(tr,null,l))}function ir(e){for(var t=[],n=e.i,a=e.data,i=n*Ka,o=i;o<i+Ka;o++){var c=a[o];c&&t.push(r.a.createElement(rr,{selected:e.selected.has(c),key:"".concat(c,"__").concat(n,"__").concat(o),deck:c}))}return r.a.createElement("div",{key:"__ul__",className:"columns is-multiline"},t)}var or,cr=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).subs=[],n.handlePageClick=function(e){n.setState({i:e.selected})},n.debounceSearch=Object(w.debounce)(function(e){n.setState({debouncedSearchText:e,i:0})},250),n.handleSearch=function(e){n.setState({searchText:e.target.value}),n.debounceSearch(e.target.value)},n.state={loading:!0,decks:[],sortedDecks:[],selectedDecks:new Set,i:0,isSorted:!1,debouncedSearchText:"",searchText:""},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(f.a.mark(function e(){var t,n=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Tr(null),this.subs.push(Mr.subscribe(function(e){return n.setState({selectedDecks:e})})),e.next=4,fetch("".concat(Xa,"/dir.json"));case 4:return e.next=6,e.sent.json();case 6:t=e.sent,this.setState({sortedDecks:t.decks,decks:Object(w.shuffle)(t.decks),selectedDecks:new Set,loading:!1});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.subs.forEach(function(e){return e.unsubscribe()})}},{key:"render",value:function(){var e=this;if(this.state.loading)return r.a.createElement("div",null);var t=(this.state.isSorted?this.state.sortedDecks:this.state.decks).filter(function(t){return t.toLowerCase().match(e.state.debouncedSearchText.toLowerCase())});return r.a.createElement("div",null,r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-item"},r.a.createElement("input",{style:{minWidth:"50%"},className:"input",type:"text",placeholder:"Search...",onChange:this.handleSearch,value:this.state.searchText})),r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button ".concat(this.state.isSorted?"is-danger":"is-primary"),onClick:function(){return e.setState({isSorted:!e.state.isSorted})}},"A/Z")),r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button is-warning",onClick:function(){return Tr(null)},disabled:0===this.state.selectedDecks.size},"Unselect All")),r.a.createElement("div",{className:"level-item"},r.a.createElement(qe,null,"".concat(this.state.selectedDecks.size," casts selected"))),r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button is-success",disabled:0===this.state.selectedDecks.size,onClick:function(){return function(e){return ar.apply(this,arguments)}(e.state.selectedDecks)}},"Next"))),r.a.createElement(ir,{key:"comments",selected:this.state.selectedDecks,data:t,i:this.state.i}),r.a.createElement(er,null,r.a.createElement(Qa.a,{key:"__list__",previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:Object(w.ceil)(t.length/Ka),marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:this.handlePageClick,containerClassName:"pagination",activeClassName:"active"})))}}]),t}(r.a.Component);function sr(){var e=Object(b.a)(["\n    cursor: pointer;\n    font-weight: bold;\n"]);return sr=function(){return e},e}function ur(){var e=Object(b.a)(["\n    color: ",";\n    cursor: pointer;\n"]);return ur=function(){return e},e}!function(e){e.Deck="choosecast",e.Casting="editcast",e.Season="editseason",e.Other="other"}(or||(or={}));var lr=new P.a(or.Other),mr=re.c.a(ur(),function(e){return e.theme.link}),hr=re.c.mark(sr());function dr(){var e=lr.value===or.Casting?hr:mr;return r.a.createElement(e,{onClick:function(){Er(r.a.createElement(za,{cast:JSON.parse(JSON.stringify(Sr.value))}),or.Casting)}},"Edit / Upload Cast")}function fr(){var e=lr.value===or.Season?hr:mr;return r.a.createElement(e,{onClick:function(){Er(r.a.createElement(_a,null),or.Season)}},"Edit Season/Twists")}function vr(){var e=lr.value===or.Deck?hr:mr;return r.a.createElement(e,{onClick:function(){Er(r.a.createElement(cr,null),or.Deck)}},"Choose Cast")}var pr=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).subs=[],n.state={tab:or.Other},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.subs.push(lr.subscribe(function(t){return e.setState({tab:t})}))}},{key:"componentWillUnmount",value:function(){this.subs.forEach(function(e){return e.unsubscribe()})}},{key:"render",value:function(){var e=Object(p.a)({},this.props.style||{});return r.a.createElement(Tn,{className:"level is-mobile",style:e},r.a.createElement("div",{className:"level-item"},r.a.createElement(vr,null)),r.a.createElement("div",{className:"level-item"},r.a.createElement(dr,null)),r.a.createElement("div",{className:"level-item"},r.a.createElement(fr,null)))}}]),t}(r.a.Component),gr=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){Pr.next(K)}},{key:"render",value:function(){var e=this.props;return r.a.createElement(qe,null,r.a.createElement("h2",{style:{color:ne.toHex(),textShadow:"rgb(114, 46, 123) 2px 2px 0px",textAlign:"center"}},"Big Brother Bots"),r.a.createElement(ot,null,"Big Brother Bots is a simulator for the reality show Big Brother."),r.a.createElement(it,null,r.a.createElement(mr,{onClick:function(){Er(r.a.createElement(cr,null),or.Deck)}},"Choose characters")," ","from 300+ collections, or"," ",r.a.createElement(mr,{onClick:function(){Er(r.a.createElement(za,{cast:[]}),or.Casting)}},"upload your own"),", then"," ",r.a.createElement(mr,{onClick:function(){Er(r.a.createElement(_a,null),or.Season)}},"add twists")," ","and watch as everyone votes each other out until one winner remains!"," "),0===e.cast.length?"":r.a.createElement(Ge,{houseguests:e.cast}),0===e.cast.length?"":r.a.createElement("p",null,r.a.createElement("b",null," ","You can use the \u2b05\ufe0f and \u27a1\ufe0f arrow keys to move forwards and backwards.")),0===e.cast.length?"":r.a.createElement("button",{className:"button is-success",onClick:function(){return jr(1)}},"Start Game"))}}]),t}(r.a.Component),br=new P.a(r.a.createElement(gr,{cast:[]}));function Er(e,t){t&&lr.next(t),br.next(e)}var yr=new P.a(null),wr=new H.a;function kr(e){yr.next(e)}function jr(e){wr.next(e)}var Or=new H.a,Sr=new P.a([]);var xr=new P.a(null);function Nr(){return xr.value}var Cr=new P.a(new Set);var Mr=new P.a(new Set);function Tr(e){if(null!==e){var t=Mr.value;t.has(e)?t.delete(e):t.add(e),Mr.next(t)}else Mr.next(new Set)}var Ir=new P.a(0),Pr=new P.a(K),Hr=new P.a(!1),Lr=new H.a,Wr=function(){function e(t){Object(c.a)(this,e),this.rng=void 0,this.rng=I.a.xorshift128plus(t)}return Object(s.a)(e,[{key:"randomFloat",value:function(){var e,t=this.rng.next(),n=Object(g.a)(t,2);return e=n[0],this.rng=n[1],e/2147483647}},{key:"randomInt",value:function(e,t){var n,a=I.a.uniformIntDistribution(e,t,this.rng),r=Object(g.a)(a,2);return n=r[0],this.rng=r[1],n}},{key:"flipCoin",value:function(){var e,t=this.rng.next(),n=Object(g.a)(t,2);return e=n[0],this.rng=n[1],e%2===0}},{key:"seed",value:function(e){this.rng=I.a.xorshift128plus(e)}}]),e}();function Ar(){return Vr.value}var Vr=new P.a(new Wr(0));Sr.subscribe({next:function(e){var t="";e.forEach(function(e){return t+=e.name}),Vr.next(new Wr(function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}(t)))}});function Dr(e,t){return e.houseguestCache[t]}function Rr(e,t){var n=t.map(function(e){return e.id});return e.filter(function(e){return!n.includes(e.id)&&!e.isEvicted})}function Br(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===e.length)throw new Error("Tried to get a random player from a list of 0 players.");var n=Rr(e,t);return n[Ar().randomInt(0,n.length-1)]}function Ur(e){return Object(E.a)(e.nonEvictedHouseguests.entries()).map(function(t){var n=Object(g.a)(t,2),a=(n[0],n[1]);return Dr(e,a)})}function _r(e){return e.houseguests.filter(function(e){return e.isJury})}function Fr(e){return e.remainingPlayers-2<=e.finalJurySize()}function zr(e){return(e=Math.round(.55*e))%2===0&&e--,e}function Gr(e,t){return e>=1&&e%2===1&&t-2>=e}var Qr=function(){function e(){Object(c.a)(this,e),this.jurors=0,this.houseguests=[]}return Object(s.a)(e,[{key:"finalJurySize",value:function(){return this.jurors}},{key:"jurySize",set:function(e){Gr(e,this.houseguests.length)&&(this.jurors=e)}}]),e}(),Jr=function(e){function t(e){var n;if(Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this))).houseguestCache={},n.nonEvictedHouseguests=new Set,n.remainingPlayers=0,n.phase=0,n.previousHOH=void 0,n.log=[],n.cliques=[],n.__logindex__=0,e instanceof t||e instanceof qr)Object.assign(Object(h.a)(Object(h.a)(n)),e);else{var a=e,r=a.players;n.remainingPlayers=r.length,r.forEach(function(e,t){var a=new y(Object(p.a)({},e,{id:t,relationships:T(r.length,t)}));n.nonEvictedHouseguests.add(t),n.houseguestCache[t]=a,n.houseguests.push(a)}),n.jurySize=a.jury}return n.finalJurySize()||(n.jurySize=zr(n.houseguests.length)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"incrementLogIndex",value:function(){this.__logindex__++,this.log[this.phase].push(new Pa)}},{key:"resetLogIndex",value:function(){this.__logindex__=0}},{key:"currentLog",get:function(){return this.log[this.phase]?this.log[this.phase][this.__logindex__]:new Pa}}]),t}(Qr),qr=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this))).houseguestCache={},n.nonEvictedHouseguests=new Set,n.remainingPlayers=0,n.phase=0,n.previousHOH=void 0,n.cliques=[],n.log=[],n.__logindex__=0;var a=k.a.cloneDeep(e);return Object.assign(Object(h.a)(Object(h.a)(n)),a),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"incrementLogIndex",value:function(){this.__logindex__++,this.log[this.phase].push(new Pa)}},{key:"resetLogIndex",value:function(){this.__logindex__=0}},{key:"currentLog",get:function(){return this.log[this.phase]?this.log[this.phase][this.__logindex__]:new Pa}}]),t}(Qr),Yr=function(){function e(){Object(c.a)(this,e),this.data={}}return Object(s.a)(e,[{key:"add",value:function(e,t){this.data[e]?this.data[e].add(t):this.data[e]=new Set([t])}}]),e}();function Kr(e){var t=Ur(e),n=[],a=new Yr;return t.forEach(function(t){k.a.forEach(t.relationships,function(n,r){var i=parseInt(r),o=function(e,t,n){return _(e.popularity,t.popularity,n)===W.Friend?[[e.id,t.id],1]:[null,0]}(t,Dr(e,i),n),c=Object(g.a)(o,2),s=c[0],u=c[1];u,i>t.id&&s&&(a.add(t.id,i),a.add(i,t.id))}),n.push(t.id)}),{nodes:n,neighbors:function(e){return a.data[e]||new Set([])}}}var Xr=[];function Zr(e){return e.core.length+(e.affiliates?e.affiliates[0].length+e.affiliates[1].length:0)}function $r(e){var t=Kr(e);Xr=[],function e(t,n,a,r){if(0===n.size&&0===a.size){var i=Array.from(t.values());return void Xr.push(i)}Array.from(n.keys()).forEach(function(i){var o=new Set(t.values()).add(i),c=new Set(Object(E.a)(n).filter(function(e){return r.neighbors(i).has(e)})),s=new Set(Object(E.a)(a).filter(function(e){return r.neighbors(i).has(e)}));e(o,c,s,r),n.delete(i),a.add(i)})}(new Set([]),new Set(t.nodes),new Set([]),t),Xr.forEach(function(t){return t.map(function(t){return Dr(e,t)})}),Xr=Xr.sort(function(e,t){return t.length-e.length});var n=[],a=[];Xr.forEach(function(e,t){for(var n=new Set(e),r=t+1;r<Xr.length;r++){var i=new Set(Xr[r]),o=O(n,i),c=S(n,o),s=S(i,o);o.size>0&&a.push([t,r,{core:Array.from(o),affiliates:[Array.from(c),Array.from(s)]}])}});var r=new Set;return a.sort(function(e,t){return t[2].core.length-e[2].core.length}),a.forEach(function(e){var t=e[0],a=e[1];r.has(t)||r.has(a)||(r.add(t),r.add(a),n.push(e[2]))}),Xr.forEach(function(e,t){r.has(t)||n.push({core:e})}),n.sort(function(e,t){return Zr(t)-Zr(e)}),n}function ei(e){return e.remainingPlayers<=30}function ti(e,t){var n=new qr(e);0===e.phase&&function(e){var t=Math.sin,n=Math.cos;e.forEach(function(e){var a=Ar().randomFloat(),r=Math.abs(Ar().randomFloat()),i=2*Math.PI*a,o=Math.acos(2*r-1);e.compatibility=[t(i)*n(o),t(i)*t(o),n(i)]});for(var a=0;a<e.length;a++)for(var r=e[a].relationships,i=a+1;i<e.length;i++){var o=e[i].relationships,c=1-2*M(e[a].compatibility,e[i].compatibility)/Math.PI;o[a]=c,r[i]=c}}(n.houseguests),!t.pseudo&&n.phase++,!t.pseudo&&n.resetLogIndex(),e.remainingPlayers>2&&!t.pseudo&&(n.log[n.phase]=[new Pa]),va(n,!0),Ur(n).forEach(function(e){e.previousPopularity=e.popularity}),ei(n)&&(n.cliques=$r(n));var a=new Jr(n);if(!t.canPlayWith(a.remainingPlayers))throw new Error("Episode type ".concat(t.name," not playable with ").concat(a.remainingPlayers," players"));return t.generate(a)}var ni=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).subs=[],n.state={tab:Ir.value},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.subs.push(Ir.subscribe(function(t){return e.setState({tab:t})}))}},{key:"componentWillUnmount",value:function(){this.subs.forEach(function(e){return e.unsubscribe()})}},{key:"render",value:function(){var e=1===this.props.gameState.phase?r.a.createElement("div",{key:"helptext1",style:{marginTop:10}},r.a.createElement("b",null,"Try clicking on houseguests to view their relationships.")," ",r.a.createElement("br",null)):null,t=2===this.props.gameState.phase?r.a.createElement(ut,{key:"helptext2",href:"https://github.com/spaulmark/bb-bots/blob/master/README.md#understanding-relationships",target:"_blank",rel:"noopener noreferrer"},"What do the \ud83d\udec7 \u2718 \u2665 \ud83d\udc94 \ud83c\udfaf symbols mean?"):null;return 0===this.state.tab?[r.a.createElement(Ge,{key:"memorywall",houseguests:this.props.gameState.houseguests}),e,t]:r.a.createElement(lt,{gameState:this.props.gameState})}}]),t}(r.a.Component);function ai(){var e=Object(b.a)(["\n    cursor: pointer;\n"]);return ai=function(){return e},e}var ri={canPlayWith:function(e){return e>3},eliminates:1,arrowsEnabled:!0,hasViewsbar:!0,name:"BigBrotherVanilla",emoji:"",description:"",generate:function(e){var t=si(e,aa);return new Nt({scenes:t.scenes,gameState:new Jr(t.gameState),initialGamestate:e,type:ri})}},ii=re.c.li(ai());function oi(e){return r.a.createElement(ii,{className:e.active===e.id?"is-active":"",onClick:function(){e.setActive(e.id),Ir.next(e.id)}},r.a.createElement("a",null,e.text))}function ci(){var e=r.a.useState(Ir.value),t=Object(g.a)(e,2),n=t[0],a=t[1];return r.a.createElement("div",{className:"tabs is-centered is-fullwidth is-medium",style:{marginBottom:0}},r.a.createElement("ul",{style:{paddingLeft:0}},r.a.createElement(oi,{text:"Memory Wall",active:n,setActive:a,id:0}),r.a.createElement(oi,{text:"Alliances",active:n,setActive:a,id:1})))}function si(e,t){var n,a,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[],o=On(e,{doubleEviction:r}),c=Object(g.a)(o,3);n=c[0],a=c[1];var s,u,l=c[2][0];i.push(a);var m=ma(n,[l],{doubleEviction:r}),h=Object(g.a)(m,3);return n=h[0],s=h[1],u=h[2],i.push(s),ui(t,n,l,u,r,i,[])}function ui(e,t,n,a,r,i,o){var c,s=void 0;if(e){var u,l,m=ha(t,[n],a,e,r),h=Object(g.a)(m,3);t=h[0],u=h[1],s=h[2],i.push(u);var d=da(t,[n],a,s,r,e,o),f=Object(g.a)(d,3);t=f[0],l=f[1],a=f[2],i.push(l)}var v=pa(t,[n],a,{doubleEviction:r,votingTo:"Evict"}),p=Object(g.a)(v,2);return t=p[0],c=p[1],null===e&&(t.currentLog.nominationsPostVeto=t.currentLog.nominationsPreVeto),i.push(c),{gameState:t,scenes:i}}function li(e){var t=new qr(e),n=_r(t),a=Ur(t),i=[[],[]];n.forEach(function(e){var n=function(e,t){return Math.abs(Ar().randomFloat())>ta(e,t[0],t[1])?1:0}(e,a),r=Object(p.a)({},e);i[n].push(r),t.currentLog.votes[e.id]=new fn(a[n].id)});var o=i[0].length,c=i[1].length,s=0===o||0===c?"By a unanimous vote...":"By a vote of ".concat(o," to ").concat(c,"..."),u=o>c?a[0]:a[1],l=o<c?a[0]:a[1];t.currentLog.winner=u.id,t.currentLog.runnerUp=l.id;var m=new Ct({title:"Jury Votes",gameState:t,content:r.a.createElement("div",null,r.a.createElement(ot,null,s),r.a.createElement("div",{className:"columns is-centered"},r.a.createElement(Mn,{className:"column"},r.a.createElement(ze,{houseguests:i[0],centered:!0})),r.a.createElement(Mn,{className:"column"},r.a.createElement(ze,{houseguests:i[1],centered:!0}))),r.a.createElement(ze,{houseguests:a,centered:!0}),r.a.createElement(ot,null,"Congratulations, ".concat(u.name,"... you are the winner of Big Brother!")),r.a.createElement(Mt,null))});return[t,m]}var mi={canPlayWith:function(e){return 3===e},eliminates:2,arrowsEnabled:!0,hasViewsbar:!0,generate:function(e){var t,n,a,i,o=r.a.createElement(qe,null,r.a.createElement(Ge,{houseguests:e.houseguests})," ",r.a.createElement("br",null),r.a.createElement(Mt,null)),c=[],s=function(e){var t=new qr(e),n=Ur(e),a=Br(n),i=n.filter(function(e){return e.id!==a.id}),o=Br(n,[a]),c=Dr(t,Br([a,o]).id);c.hohWins++;var s=new Ct({title:"Final HoH Competition",gameState:t,content:r.a.createElement("div",null,r.a.createElement(it,null,"The final 3 houseguests compete in the endurance competition."),r.a.createElement(ze,{houseguests:n,centered:!0}),r.a.createElement(Fe,{houseguest:a,centered:!0}),r.a.createElement(ot,null,"".concat(a.name," has won the endurance competition!")),r.a.createElement("hr",null),r.a.createElement(it,null,"".concat(i[0].name," and ").concat(i[1].name," compete in the skill competition.")),r.a.createElement(ze,{houseguests:i,centered:!0}),r.a.createElement(Fe,{houseguest:o,centered:!0}),r.a.createElement(ot,null,"".concat(o.name," has won the skill competition!")),r.a.createElement("hr",null),r.a.createElement(it,null,"".concat(a.name," and ").concat(o.name," compete in the quiz competition.")),r.a.createElement(ze,{houseguests:[a,o],centered:!0}),r.a.createElement(Fe,{houseguest:c,centered:!0}),r.a.createElement(ot,null,"Congratulations ".concat(c.name,", you are the final Head of Household!")),r.a.createElement(Mt,null))});return[new Jr(t),s,c]}(e),u=Object(g.a)(s,3);t=u[0],n=u[1],a=u[2],c.push(n);var l=function(e,t){var n=new qr(e),a=Ur(n).filter(function(e){return e.id!==t.id});n.currentLog.nominationsPostVeto=a.map(function(e){return e.name});var i=Kn(t,a,n),o=i.decision,c=i.reason,s=a[o],u=a[1==o?0:1];n.currentLog.soleVoter=t.name,n.currentLog.votes[u.id]=new gn(!1),n.currentLog.votes[t.id]=new yn(s.id),n.currentLog.votesInMajority=1,n.currentLog.outOf=1;var l=Object(p.a)({},t);l.tooltip=c,fa(n,s.id);var m=new Ct({title:"Final Eviction",gameState:n,content:r.a.createElement("div",null,r.a.createElement(it,null,"As the final HoH of the season, ".concat(t.name,", you may now cast the sole vote to evict.")),r.a.createElement(Fe,{houseguest:l,centered:!0}),r.a.createElement(ot,null,"I vote to evict ".concat(s.name,".")),r.a.createElement(ze,{houseguests:a,centered:!0}),r.a.createElement(it,null,"It's official... ",s.name,", you will be the final person leaving the Big Brother House."),r.a.createElement(Mt,null))});return[new Jr(n),m]}(t,a),m=Object(g.a)(l,2);t=m[0],i=m[1],c.push(i);var h=li(t),d=Object(g.a)(h,2),f=d[0],v=d[1];return c.push(v),new Nt({gameState:f,content:o,title:"Finale",scenes:c,type:mi})}};var hi={canPlayWith:function(e){return!0},eliminates:1,arrowsEnabled:!1,hasViewsbar:!1,description:"",emoji:"",name:"Game Over",generate:function(e){var t=un(e);return e.houseguests.forEach(function(t){fa(e,t.id)}),new Nt({gameState:e,content:t,title:"Game Over",scenes:[],type:hi})}};var di=function(){function e(t){Object(c.a)(this,e),this.episodeLibrary={},t&&(this.episodeLibrary=t)}return Object(s.a)(e,[{key:"renderEpisode",value:function(e){return ti(e,this.whichEpisodeType(e.remainingPlayers))}},{key:"whichEpisodeType",value:function(e){return 3===e?mi:2===e?hi:this.episodeLibrary[e]?this.episodeLibrary[e]:ri}}]),e}(),fi=function(){function e(t){var n=this;Object(c.a)(this,e),this.view=void 0,this.subscriptions=[],this.season=new di,this.scenes=[],this.selectedEpisode=0,this.switchSceneRelative=function(e){var t=n.view.state.selectedScene,a=n.scenes.length,r=t+e;if(!(r<0)){var i=n.view.state.episodes[n.view.state.episodes.length-1];if(r<a)n.switchToScene(r);else if(r===a){var o=i.gameState;Ur(i.gameState).length>0&&(kr(n.season.renderEpisode(o)),n.switchSceneRelative(1))}}},this.view=t,this.subscriptions.push(lr.subscribe(function(e){n.view.setState({selectionsActive:e===or.Other})})),this.subscriptions.push(yr.subscribe({next:function(e){return n.onNewEpisode(e)}})),this.subscriptions.push(wr.subscribe({next:function(e){n.switchSceneRelative(e)}})),this.subscriptions.push(Or.subscribe({next:function(e){n.season=new di(e),n.selectedEpisode=0,Pr.next(K)}}))}return Object(s.a)(e,[{key:"getSelectedEpisode",value:function(){return this.selectedEpisode}},{key:"switchToScene",value:function(){var e=Object(v.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Er(this.scenes[t].scene.render,or.Other),this.selectedEpisode=this.scenes[t].index,e.next=4,this.view.setState({selectedScene:t});case 4:null!==Nr()&&xr.next(Dr(this.scenes[this.view.state.selectedScene].scene.gameState,Nr().id));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_handleKeyDown",value:function(e){var t=this.view.state;void 0!==t.episodes[this.selectedEpisode]&&t.episodes[this.selectedEpisode].type.arrowsEnabled&&lr.value===or.Other&&(37===e.keyCode?jr(-1):39===e.keyCode&&jr(1))}},{key:"onNewEpisode",value:function(e){var t=this;if(e){var n=Object(p.a)({},this.view.state),a=(0===this.scenes.length?-1:this.scenes[this.scenes.length-1].index)+1;this.scenes.push({scene:e,index:a}),e.scenes.forEach(function(e){return t.scenes.push({scene:e,index:a})}),n.episodes.push(e),this.view.setState(n)}else this.view.setState({episodes:[],selectedScene:0}),this.scenes=[]}},{key:"destroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"handleKeyDown",get:function(){return this._handleKeyDown.bind(this)}}]),e}(),vi=!0,pi=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).controller=void 0,n.controller=new fi(Object(h.a)(Object(h.a)(n))),n.state={episodes:[],selectedScene:0,selectionsActive:!0},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(f.a.mark(function e(){var t,n,a,r,i,o,c,s,u,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(document.addEventListener("keydown",this.controller.handleKeyDown),vi){e.next=4;break}return vi=!1,e.abrupt("return");case 4:return e.next=6,fetch("".concat(Xa,"/bb.json"));case 6:return e.next=8,e.sent.json();case 8:for(t=e.sent,n=[],t=Object(w.shuffle)(t).slice(0,16),a=!0,r=!1,i=void 0,e.prev=14,o=t[Symbol.iterator]();!(a=(c=o.next()).done);a=!0)s=c.value,u=(u=s.substr(0,s.lastIndexOf("."))||s).substr(u.indexOf("/")+1)||u,n.push({name:u,imageURL:"".concat(Xa,"/Big Brother ").concat(s,".png")});e.next=22;break;case 18:e.prev=18,e.t0=e.catch(14),r=!0,i=e.t0;case 22:e.prev=22,e.prev=23,a||null==o.return||o.return();case 25:if(e.prev=25,!r){e.next=28;break}throw i;case 28:return e.finish(25);case 29:return e.finish(22);case 30:kr(l=new Oa(new Jr({players:n,jury:zr(n.length)}))),Sr.next(n),lr.value===or.Other&&Er(l.render,or.Other);case 34:case"end":return e.stop()}},e,this,[[14,18,22,30],[23,,25,29]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.controller.destroy()}},{key:"render",value:function(){return r.a.createElement(Tn,{style:{minWidth:180,maxWidth:250}},r.a.createElement(qe,null,this.getEpisodes()))}},{key:"getHighlight",value:function(e,t){return t===this.state.selectedScene&&this.state.selectionsActive?r.a.createElement("mark",null,e):e}},{key:"getEpisodes",value:function(){var e=this,t=[],n=-1,a=0;return this.state.episodes.forEach(function(i){var o=++n;t.push(r.a.createElement("b",{key:o,onClick:function(){e.controller.switchToScene(o)}},e.getHighlight(i.title,o))),t.push(r.a.createElement("br",{key:--a})),i.scenes.forEach(function(o){var c=++n;e.controller.getSelectedEpisode()===i.gameState.phase&&(t.push(r.a.createElement("a",{key:c,onClick:function(){return e.controller.switchToScene(c)}},e.getHighlight(o.title,c))),t.push(r.a.createElement("br",{key:--a})))})}),t}}]),t}(r.a.Component);function gi(){var e=Object(b.a)(["\n    overflow-x: auto;\n"]);return gi=function(){return e},e}var bi=Object(re.c)(Tn)(gi()),Ei=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).contentStream=void 0,n.state={content:null},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.contentStream=br.subscribe(function(t){e.setState({content:t})})}},{key:"componentDidUpdate",value:function(e,t){t.content!==this.state.content&&window.scrollTo(0,0)}},{key:"componentWillUnmount",value:function(){this.contentStream.unsubscribe()}},{key:"render",value:function(){return r.a.createElement(bi,null,this.state.content)}}]),t}(r.a.Component),yi=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={fullscreen:!1},e.controller.inject(Object(h.a)(Object(h.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.controller.subscribe()}},{key:"componentWillUnmount",value:function(){this.props.controller.unsubscribe()}},{key:"render",value:function(){var e=this.state.fullscreen,t={display:e?"none":""},n=e?{margin:"auto"}:{margin:"auto",maxWidth:1480,overflow:"hidden"};return r.a.createElement("div",{style:n},r.a.createElement(pr,{style:t}),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-narrow",style:t},r.a.createElement(pi,null)),r.a.createElement("div",{className:"column",style:{overflowX:"hidden"}},r.a.createElement(Ei,null))))}}]),t}(r.a.Component),wi=function(){function e(){Object(c.a)(this,e),this.view=new yi({controller:this}),this.subscriptions=[]}return Object(s.a)(e,[{key:"inject",value:function(e){this.view=e}},{key:"subscribe",value:function(){var e=this;this.unsubscribe(),this.subscriptions.push(Hr.subscribe(function(t){e.view.setState({fullscreen:t})}))}},{key:"unsubscribe",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}(),ki={name:"dark",bg:"#121212",saveCell:"#334d5e",text:"#FAFAFA",bodyArea:"#363537",toggleBorder:"#6B8096",link:"lightblue",mark:"#7e006d",overlay:"#444346",evictedCell:"#9d4c43",grayCell:"#5e5e5e",lightGrayCell:"#404040",runnerUpCell:"#9fbec882",nomineeCell:"#6c75d0",winnerCell:"#00ac04",hohCell:"#3f783f",portraitBorder:"#484848",tableCellBorder:"#53575b"};function ji(){var e=Object(b.a)(["\n  *,\n  *::after,\n  *::before {\n    box-sizing: border-box;\n  }\n\n  body {\n    background: ",";\n    color: ",";\n  }"]);return ji=function(){return e},e}var Oi=Object(re.b)(ji(),function(e){return e.theme.bg},function(e){return e.theme.text}),Si=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).sub=null,n.state={theme:ki},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.sub=Lr.subscribe(function(t){e.setState({theme:t})})}},{key:"componentWillUnmount",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"render",value:function(){return r.a.createElement(re.a,{theme:this.state.theme},r.a.createElement(r.a.Fragment,null,r.a.createElement(Oi,null),r.a.createElement(yi,{controller:new wi})))}}]),t}(r.a.Component);o.a.render(r.a.createElement(Si,null),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.c5aec54e.chunk.js.map